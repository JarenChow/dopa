// https://github.com/JarenChow/dopa v1.4.9 Created by JarenChow in 2021
!function(t,i){"object"==typeof exports&&"undefined"!=typeof module?module.exports=i():"function"==typeof define&&define.amd?define(i):(t="undefined"!=typeof globalThis?globalThis:t||self).dopa=i()}(this,function(){"use strict";function n(t){t.t=!0,t.i="low"}function s(t){t.h="10px sans-serif",t.u="start",t.o="alphabetic",t.l="ltr"}function u(t){t.v=1,t.g="source-over",t._="none",t.p=0,t.m="rgba(0, 0, 0, 0)",t.P=0,t.k=0,t.I="#000000",t.S="#000000",t.O=vt,t.R=0,t.T=1,t.C="butt",t.X="miter",t.Y=10,n(t),s(t)}function r(){return this}function p(t){return t!=dt}function c(t){return t===S}function o(t){return t!==S}function a(t){return"string"==typeof t}function f(t){return"function"==typeof t}function l(t){return t!=dt&&"object"==typeof t}function t(t,i){f(i)&&(t.prototype=F(i.prototype,{constructor:{value:t}}));for(var n=2;n<arguments.length;n++)J(t.prototype,arguments[n])}function h(t,i,n,s,h){var e=i+" "+n+" "+s+" "+h,u=At.get(e);return u===S&&(u=new kt(3755),At.set(e,u)),(e=u.get(t))===S&&(xi(Qt,i,n,s,h),e=Qt.measureText(t),u.set(t,J(e,{actualBoundingBoxWidth:{value:e.actualBoundingBoxLeft+e.actualBoundingBoxRight},actualBoundingBoxHeight:{value:e.actualBoundingBoxAscent+e.actualBoundingBoxDescent}}))),e}function i(t,i,n){function s(t){i.call(n,e,t)}function h(){e.addEventListener("load",u),e.addEventListener("error",u)}var e=Wt.get(t),u=function(t){e.removeEventListener("load",u),e.removeEventListener("error",u),s("load"===t.type)};e===S?(Wt.set(t,e=z.createElement("img")),h(),e.src=t):e.complete?e.naturalWidth?s(!0):(h(),e.src=t):h()}function e(t,i,n,s){return Qt.createLinearGradient(t,i,n,s)}function v(t,i,n,s,h,e){return Qt.createRadialGradient(t,i,n,s,h,e)}function g(t,i,n){return Qt.createConicGradient(t,i,n)}function d(t,i){return Qt.createPattern(t,pt(i,"repeat"))}function _(t,i){return t%i+(t<0)*i}function b(t,i){return i<t?t:i}function m(t,i){return t<i?t:i}function P(t,i,n){return b(m(t,n),i)}function w(t){return gt<t||t<-gt}function k(t){return 0<(t=~~t)?t:1}function y(t,i,n){return _t(i)&&(i=t,t=0),t+$(ct()*(i-t+(n||0)))}function I(t,i,n){return t+(i-t)*n}var S,x=window,O=x.Map,R=x.Array.prototype.slice,T=x.Proxy,C=x.ResizeObserver,X=x.IntersectionObserver,Y=x.ImageData,D=x.RegExp,B=x.encodeURI,L=x.parseFloat,Q=x.parseInt,A=x.setTimeout,W=x.setInterval,q=x.clearInterval,G=x.requestAnimationFrame,H=x.cancelAnimationFrame,z=x.document,j=x.Object,F=j.create,E=j.assign,N=j.freeze,J=j.defineProperties,U=j.prototype.toString,K=x.Math,Z=K.min,M=K.max,V=K.sign,$=K.floor,tt=K.ceil,it=K.round,nt=K.abs,st=K.pow,ht=K.sqrt,et=K.sin,ut=K.cos,rt=K.tan,ot=K.atan2,ct=K.random,ft=K.PI,at=2*ft,lt=ft/2,vt=N([]),gt=st(2,-14),dt=null,_t=function(t){return t==dt},pt=function(t,i){return _t(t)?i:t},bt=function(t){switch(t){case 9:return 362880;case 8:return 40320;case 7:return 5040;case 6:return 720;case 5:return 120;case 4:return 24;case 3:return 6;case 2:return 2;case 1:case 0:return 1}return t*bt(t-1)},mt={D:{value:function(t){return c(this.B)?this.B=this.L=t:this.L=(t.W=this.L).A=t,this}},q:{value:function(t){var i=t.W,n=t.A;return i!==S?i.A=n:this.B=n,n!==S?n.W=i:this.L=i,t.W=t.A=S,this}}};function Pt(t){this.G=t}function wt(){this.H=0}function kt(t){this.j=new wt,this.F=new O,this.N=t}t(wt,dt,E({J:{value:function(t){return this.H++,this.D(t)}},U:{value:function(t){return this.H--,this.q(t)}},K:{value:function(){return this.B=this.L=S,this.H=0,this}}},mt)),t(kt,dt,{length:{get:function(){return this.j.H}},get:{value:function(t){var i=this.F.get(t);if(i!==S){t=this.j;return i!==t.L&&(t.U(i),t.J(i)),i.G}}},set:{value:function(t,i){var n,s,h,e=this.F;c(e.get(t))&&(h=(n=this.j).H,s=this.Z,h>=this.N&&0<h&&(h=n.B,n.U(h),e.delete(h.M),this.Z=h),s?s.G=i:s=new Pt(i),s.M=t,n.J(s),e.set(t,s))}},clear:{value:function(){this.j.K(),this.F.clear()}}});function yt(t){return t}function It(t){return 1.0009775171065494*(st(2,-10*t)-.0009765625)}function St(t){return It(- --t)*et((.075-t)*at/.3)}function xt(t){return 1-It(t)*et((t+.075)*at/.3)}function Ot(t){return 1-Dt(1-t)}function Rt(t,i){return 1-3*i+3*t}function Tt(t,i,n){return((Rt(i,n)*t+(3*n-6*i))*t+3*i)*t}function Ct(t,i,n){return Rt(i,n)*t*t*3+(3*n-6*i)*t*2+3*i}function Xt(t,i){Lt.width=t,Lt.height=i,n(Qt),s(Qt)}var Yt=1.70158,Dt=function(t){var i=7.5625,n=2.75;return t<1/n?i*t*t:t<2/n?i*(t-=1.5/n)*t+.75:t<2.5/n?i*(t-=2.25/n)*t+.9375:i*(t-=2.625/n)*t+.984375},Bt=N({__proto__:dt,linear:yt,sinIn:function(t){return 1-ut(t*lt)},sinOut:function(t){return et(t*lt)},sinInOut:function(t){return(1-ut(t*ft))/2},quadIn:function(t){return t*t},quadOut:function(t){return t*(2-t)},quadInOut:function(t){return t<.5?2*t*t:1-2*--t*t},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return t<.5?4*t*t*t:1+4*--t*t*t},quartIn:function(t){return t*t*t*t},quartOut:function(t){return 1- --t*t*t*t},quartInOut:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},quintIn:function(t){return t*t*t*t*t},quintOut:function(t){return--t*t*t*t*t+1},quintInOut:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t},expIn:function(t){return It(1-t)},expOut:function(t){return 1-It(t)},expInOut:function(t){return((t*=2)<1?It(1-t):2-It(t-1))/2},circleIn:function(t){return 1-ht(1-t*t)},circleOut:function(t){return ht(1- --t*t)},circleInOut:function(t){return(t<.5?1-ht(1-4*t*t):ht(1-4*--t*t)+1)/2},backIn:function(t){return t*t*((t-1)*Yt+t)},backOut:function(t){return--t*t*((t+1)*Yt+t)+1},backInOut:function(t){return t<.5?2*t*t*(5.40316*t-Yt):2*--t*t*((1+Yt)*t*2+Yt)+1},elasticIn:St,elasticOut:xt,elasticInOut:function(t){return(t<.5?St(2*t):1+xt(2*t-1))/2},bounceIn:Ot,bounceOut:Dt,bounceInOut:function(t){return(t<.5?Ot(2*t):1+Dt(2*t-1))/2},bezier:function(o,c,f,a){if(o=P(o,0,1),f=P(f,0,1),o===c&&f===a)return yt;for(var l=[],t=0;t<11;)l[t]=Tt(.1*t++,o,f);return function(t){if(0===t||1===t)return t;for(var i=0,n=1;n<10&&t>=l[n];)i+=.1,n++;var s,h=i+(t-l[--n])/(l[n+1]-l[n])*.1,e=Ct(h,o,f),u=i+.1,r=0;if(.001<=e)for(;r++<4&&0!==(e=Ct(h,o,f));)h+=(t-Tt(h,o,f))/e;else if(0!==e)for(;0<(s=t-Tt(h=(i+u)/2,o,f))?i=h:u=h,1e-7<nt(s)&&r++<9;);return Tt(h,c,a)}}}),Lt=z.createElement("canvas"),Qt=Lt.getContext("2d");Qt.V=1,Xt();var At=new O,Wt=new kt(50),qt=z.createElement("a"),Gt={writable:!0},Ht=E({value:r},Gt),zt=E({value:function(){return!1}},Gt),jt=N({__proto__:dt,noop:r,extends:t,measureText:h,measureTextWidth:function(t,i){return h(t,i,Qt.u,Qt.o,Qt.l).width},loadImage:i,createLinearGradient:e,createRadialGradient:v,createConicGradient:g,createPattern:d,normalizeNumber:_,limitNumber:P,isNotAroundZero:w,saveURL:function(t,i){qt.href=t,qt.download=i,qt.click()},randInt:y,lerp:I}),Ft="\\d{1,3}",Et=Ft+"\\.?\\d*",Nt=",? ?",Jt="("+Ft+")",Ut="("+Et+")",j=Ut+"%",K="(-?"+Et+")",Ft="([0-9a-fA-F]{2})",Et="([0,1]\\.?\\d*)?",Kt=new D("rgba?\\("+Jt+Nt+Jt+Nt+Jt+Nt+Et+"\\)"),Zt=new D("#"+Ft+Ft+Ft+Ft+"?"),Mt=new D("hsla?\\("+Ut+Nt+j+Nt+j+Nt+Et+"\\)"),Vt=new D("laba?\\("+Ut+Nt+K+Nt+K+Nt+Et+"\\)");function $t(t){this.alpha=pt(t,255)}t($t,dt,{alpha:{get:function(){return this.v},set:function(t){this.v=P(t,0,255)}},fromString:{value:function(t){return this.alpha=255*(t===S?1:L(t)),this}},toString:{value:function(){return it(this.v)/255+""}}});function ti(t){return.04045<(t/=255)?st((t+.055)/1.055,2.4):t/12.92}function ii(t){return 255*(.0031308<t?1.055*st(t,1/2.4)-.055:12.92*t)}function ni(t){return 6/29<t?t*t*t:18/29*6/29*(t-4/29)}function si(t){return(t<16?"0":"")+t.toString(16)}function hi(t,i,n,s){$t.call(this,s),this.red=pt(t,0),this.green=pt(i,0),this.blue=pt(n,0)}function ei(t,i,n,s){$t.call(this,s),this.hue=pt(t,0),this.saturation=pt(i,1),this.lightness=pt(n,.5)}t(hi,$t,{red:{get:function(){return this.$},set:function(t){this.$=P(t,0,255)}},green:{get:function(){return this.tt},set:function(t){this.tt=P(t,0,255)}},blue:{get:function(){return this.it},set:function(t){this.it=P(t,0,255)}},fromString:{value:function(t){t=Kt.exec(t);return this.red=L(t[1]),this.green=L(t[2]),this.blue=L(t[3]),$t.prototype.fromString.call(this,t[4])}},fromHex:{value:function(t){t=Zt.exec(t);return this.red=Q(t[1],16),this.green=Q(t[2],16),this.blue=Q(t[3],16),this.alpha=c(t[4])?255:Q(t[4],16),this}},fromHsl:{value:function(t){var i,n,s=_(t.hue,360),h=t.saturation,e=t.lightness,u=(1-nt(2*e-1))*h,h=u*(1-nt(s/60%2-1)),e=e-u/2,h=s<60?(i=u,n=h,0):s<120?(i=h,n=u,0):s<180?(i=0,n=u,h):s<240?(i=0,n=h,u):s<300?(i=h,n=0,u):(i=u,n=0,h);return this.red=255*(i+e),this.green=255*(n+e),this.blue=255*(h+e),this.alpha=t.alpha,this}},fromLab:{value:function(t){var i=(t.lightness+16)/116,n=.96422*ni(i+t.a/500),s=ni(i),i=.82521*ni(i-t.b/200);return this.red=3.1338561*n-1.6168667*s-.4906146*i,this.green=-.9787684*n+1.9161415*s+.033454*i,this.blue=.0719453*n-.2289914*s+1.4052427*i,this.alpha=t.alpha,this.companding()}},inverseCompanding:{value:function(){return this.$=ti(this.$),this.tt=ti(this.tt),this.it=ti(this.it),this}},companding:{value:function(){return this.red=ii(this.$),this.green=ii(this.tt),this.blue=ii(this.it),this}},toString:{value:function(t){return"rgb"+(t?"a":"")+"("+it(this.$)+", "+it(this.tt)+", "+it(this.it)+(t?", "+$t.prototype.toString.call(this):"")+")"}},toHex:{value:function(t){return"#"+si(it(this.$))+si(it(this.tt))+si(it(this.it))+(t?si(it(this.v)):"")}}}),t(ei,$t,{hue:{get:function(){return this.nt},set:function(t){this.nt=t}},saturation:{get:function(){return this.st},set:function(t){this.st=P(t,0,1)}},lightness:{get:function(){return this.ht},set:function(t){this.ht=P(t,0,1)}},fromString:{value:function(t){t=Mt.exec(t);return this.hue=L(t[1]),this.saturation=L(t[2])/100,this.lightness=L(t[3])/100,$t.prototype.fromString.call(this,t[4])}},fromRgb:{value:function(t){var i=t.red/255,n=t.green/255,s=t.blue/255,h=M(i,n,s),e=Z(i,n,s),u=0,r=h-e,e=h+e;return 0!==r&&(u=i===h?(n-s)/r+6*(n<s):n===h?(s-i)/r+2:(i-n)/r+4,u*=60,r/=e<1?e:2-e),this.hue=u,this.saturation=r,this.lightness=e/2,this.alpha=t.alpha,this}},toString:{value:function(t){return"hsl"+(t?"a":"")+"("+this.nt+", "+100*this.st+"%, "+100*this.ht+"%"+(t?", "+$t.prototype.toString.call(this):"")+")"}}});function ui(t){return 6/29*6/29*6/29<t?st(t,1/3):t/(18/29*6/29)+4/29}function ri(t,i,n,s){$t.call(this,s),this.lightness=pt(t,0),this.a=pt(i,0),this.b=pt(n,0)}function oi(t,i){this.x=pt(t,0),this.y=pt(i,0)}function ci(t,i){this.duration=t,this.interval=i}function fi(t,i){ci.call(this,t,i),this.et=S,this.ut=this.rt.bind(this),this.ot()}function ai(t,i){fi.call(this,t,pt(i,16))}function li(t,i){fi.call(this,t,i)}function vi(t,i){ci.call(this,t,i)}t(ri,$t,{lightness:{get:function(){return this.ht},set:function(t){this.ht=P(t,0,100)}},a:{get:function(){return this.ct},set:function(t){this.ct=P(t,-128,127)}},b:{get:function(){return this.ft},set:function(t){this.ft=P(t,-128,127)}},fromString:{value:function(t){t=Vt.exec(t);return this.lightness=L(t[1]),this.a=L(t[2]),this.b=L(t[3]),$t.prototype.fromString.call(this,t[4])}},fromRgb:{value:function(t){var i=ti(t.red),n=ti(t.green),s=ti(t.blue),h=ui(.2225045*i+.7168786*n+.0606169*s);return this.lightness=116*h-16,this.a=500*(ui((.4360747*i+.3850649*n+.1430804*s)/.96422)-h),this.b=200*(h-ui((.0139322*i+.0971045*n+.7141733*s)/.82521)),this.alpha=t.alpha,this}},toString:{value:function(t){return"lab"+(t?"a":"")+"("+this.ht+", "+this.ct+", "+this.ft+(t?", "+$t.prototype.toString.call(this):"")+")"}}}),t(oi,dt,{x:{get:function(){return this.at},set:function(t){this.at=t}},y:{get:function(){return this.lt},set:function(t){this.lt=t}},set:{value:function(t,i){return this.at=t,this.lt=i,this}},scale:{value:function(t,i){return this.at*=t,this.lt*=i,this}},rotate:{value:function(t){var i=ut(t),n=et(t),t=this.at*n+this.lt*i;return this.at=this.at*i-this.lt*n,this.lt=t,this}},skew:{value:function(t,i){i=this.lt+this.at*rt(i);return this.at+=this.lt*rt(t),this.lt=i,this}},translate:{value:function(t,i){return this.at+=t,this.lt+=i,this}},transform:{value:function(t,i,n,s,h,e){l(t)&&(i=t.b,n=t.c,s=t.d,h=t.e,e=t.f,t=t.a);e=this.at*i+this.lt*s+e;return this.at=this.at*t+this.lt*n+h,this.lt=e,this}},unit:{value:function(){var t=ht(this.at*this.at+this.lt*this.lt);return t?(this.at/=t,this.lt/=t):this.at=this.lt=0,this}},inverse:{value:function(){return this.at=-this.at,this.lt=-this.lt,this}},vertical:{value:function(){var t=this.at;return this.at=-this.lt,this.lt=t,this}},add:{value:function(t){return this.at+=t.x,this.lt+=t.y,this}},subtract:{value:function(t){return this.at-=t.x,this.lt-=t.y,this}}}),t(ci,dt,{duration:{get:function(){return this.vt},set:function(t){this.vt=gt<t?t:gt}},interval:{get:function(){return this.gt},set:function(t){this.gt=0<t?t:0}},onstart:Ht,onresume:Ht,onupdate:Ht,onpause:Ht,onstop:Ht,onfinish:Ht,start:{value:function(){return this.ot().onstart(),this.resume()}},resume:{value:function(){return this.dt()&&this._t().onresume(),this}},pause:{value:function(){return this.isRunning()&&this.bt().onpause(),this}},stop:{value:function(t){return this.isRunning()&&this.Pt(t).onstop(),this}},isRunning:zt,isStopped:zt,isPaused:zt,wt:E({value:0},Gt),ot:{value:function(){return this.kt=0,this.yt=this.gt,this}},dt:zt,_t:Ht,bt:Ht,Pt:Ht,It:Ht,rt:Ht,St:{value:function(t){return t<this.vt?this.gt?t>this.yt&&this.xt(t):this.Ot(t):(this.wt=t-this.vt,this.bt().Ot(this.vt).Rt(!0)),this}},xt:{value:function(t){var i=this.yt,n=this.gt,t=t-i;return this.Tt(i).yt+=((t/n>>0)+V(t))*n,this}},Ot:{value:function(t){return this.Tt(this.yt=t)}},Tt:Ht,Rt:Ht}),t(fi,ci,mt,{isRunning:{value:function(){return o(this.et)}},isStopped:{value:function(){return!this.isRunning()&&0===this.Ct}},isPaused:{value:function(){return!this.isRunning()&&0!==this.Ct}},add:{value:function(){for(var t=0;t<arguments.length;t++)this.J(arguments[t]);return this}},remove:{value:function(){for(var t=0;t<arguments.length;t++)this.U(arguments[t]);return this}},ot:{value:function(){return this.Xt=this.Ct=this.Yt=this.Dt=0,ci.prototype.ot.call(this)}},dt:{value:function(){return!this.isRunning()}},bt:{value:function(){return this.Pt().Ct=this.Dt,this}},It:{value:function(t){return this.Dt=t,0===this.Xt?this.Xt=t:(0!==this.Ct&&(this.Yt+=t-this.Ct,this.Ct=0),this.St(t-this.Yt-this.Xt))}},Tt:{value:function(t){var i=this.B,n=t-this.kt;for(this.kt=t;i!==S;)i=i.It(n).A;return this.onupdate(t/this.vt,t,n),this}},Rt:{value:function(t){if(this.kt===this.vt)for(var i=this.B;i!==S;)i=(i.isRunning()?i.It(i.Bt()?i.vt-i.kt:i.kt):i).A;this.onfinish(t)}},J:{value:function(t){t.Lt&&(t.animation=this)}},U:{value:function(t){t.animation===this&&(t.animation=S)}}}),t(ai,fi,{rt:{value:function(){this.It(performance.now())}},_t:{value:function(){return this.rt(),this.et=W(this.ut,this.gt),this}},Pt:{value:function(){return this.et=q(this.et),this}}}),t(li,fi,{rt:{value:function(t){this.et=G(this.ut),this.It(t)}},_t:{value:function(){return this.et=G(this.ut),this}},Pt:{value:function(){return this.et=H(this.et),this}}}),t(vi,ci,{Lt:{value:!0},animation:{get:function(){return this.Qt},set:function(t){var i=this.Qt;i!==t&&(i!=dt&&i.q(this),p(i=this.Qt=t)&&i.D(this))}},onreverse:Ht,reverse:{value:function(){if(this.isStopped())return this;this.kt=P(this.kt,0,this.vt);var t=this.Bt(),i=this.gt;return this.rt=t?this.At:this.Wt,0!==i&&(this.yt+=t?i:-i),this.onreverse(),this.resume()}},isRunning:{value:function(){return this.rt!==r&&this.It!==r}},isStopped:{value:function(){return this.rt===r}},isPaused:{value:function(){return this.rt!==r&&this.It===r}},Bt:{value:function(){return this.rt===this.Wt}},ot:{value:function(){return this.rt=this.Wt,ci.prototype.ot.call(this)}},dt:{value:function(){return!this.isStopped()}},_t:{value:function(){var t=this.Bt(),i=this.kt+=t?this.wt:-this.wt,t=t?this.vt-i:i,i=this.Qt;return(t+=i.kt)>i.vt&&(i.vt=t,i.resume()),this.It=this.rt,this.wt=0,this}},bt:{value:function(){return this.It=r,this}},Pt:{value:function(t){return this.It=(this.kt=t?this.vt:0)?this.Wt:this.At,this.rt=r,this}},Wt:{value:function(t){return this.St(this.kt+=t)}},At:{value:function(t){return this.qt(this.kt-=t)}},qt:{value:function(t){return 0<t?this.gt?t<this.yt&&this.xt(t):this.Ot(t):(this.wt=-t,this.bt().Ot(0).Rt(!1)),this}},Tt:{value:function(t){return this.onupdate(t/this.vt,t),this}},Rt:{value:function(t){this.onfinish(t)}}});var gi=function(t){t.ct=t.Gt=t.Ht=t.zt=1,t.ft=t.jt=t.Ft=t.Et=0,di(t)},di=function(t){t.Nt=t.Jt=t.Ut=t.Kt=0},_i=function(t){u(t),t.Zt=t.Mt=t.Vt=1,t.$t=t.ti=t.ii=t.ni=t.si=t.hi=0};function pi(t,i){oi.call(this),this.originX=pt(t,0),this.originY=pt(i,0),_i(this),gi(this)}t(pi,oi,{originX:{get:function(){return this.ei},set:function(t){this.ei=t}},originY:{get:function(){return this.ui},set:function(t){this.ui=t}},group:{get:function(){return this.ri},set:function(t){for(var i=t;i!=dt&&i!==this;)i=i.ri;i!==this&&(this.ri=t)}},scaleX:{get:function(){return this.Zt},set:function(t){this.Zt=t}},scaleY:{get:function(){return this.Mt},set:function(t){this.Mt=t}},skewX:{get:function(){return this.ii},set:function(t){this.ii!==t&&(this.ii=t,this.ni=rt(t))}},skewY:{get:function(){return this.si},set:function(t){this.si!==t&&(this.si=t,this.hi=rt(t))}},rotation:{get:function(){return this.$t},set:function(t){this.$t!==t&&(this.$t=t,this.Vt=ut(t),this.ti=et(t))}},alpha:{get:function(){return this.v},set:function(t){this.oi=t}},compositeOperation:{get:function(){return this.g},set:function(t){this.ci=t}},filter:{get:function(){return this._},set:function(t){this.fi=t}},shadowBlur:{get:function(){return this.p},set:function(t){this.ai=t}},shadowColor:{get:function(){return this.m},set:function(t){this.li=t}},shadowOffsetX:{get:function(){return this.P},set:function(t){this.vi=t}},shadowOffsetY:{get:function(){return this.k},set:function(t){this.gi=t}},fillStyle:{get:function(){return this.I},set:function(t){this.di=t}},strokeStyle:{get:function(){return this.S},set:function(t){this._i=t}},lineDash:{get:function(){return this.O},set:function(t){this.pi=t}},lineDashOffset:{get:function(){return this.R},set:function(t){this.bi=t}},lineWidth:{get:function(){return this.T},set:function(t){this.mi=t}},lineCap:{get:function(){return this.C},set:function(t){this.Pi=t}},lineJoin:{get:function(){return this.X},set:function(t){this.wi=t}},miterLimit:{get:function(){return this.Y},set:function(t){this.ki=t}},smoothingEnabled:{get:function(){return this.t},set:function(t){this.yi=t}},smoothingQuality:{get:function(){return this.i},set:function(t){this.Ii=t}},font:{get:function(){return this.h},set:function(t){this.Si=t}},align:{get:function(){return this.u},set:function(t){this.xi=t}},baseline:{get:function(){return this.o},set:function(t){this.Oi=t}},direction:{get:function(){return this.l},set:function(t){this.Ri=t}},drag:{value:function(t,i){var n,s=this.ri;return s!=dt&&(n=s.jt*t+s.zt*i,t=s.Gt*t+s.Et*i,i=n),this.at+=t,this.lt+=i,this}},zoom:{value:function(t,i,n){var s,h=this.ri;return h!=dt&&(s=h.jt*i+h.zt*n+h.Kt,i=h.Gt*i+h.Et*n+h.Jt,n=s),this.at=I(i,this.at,t),this.lt=I(n,this.lt,t),this.Zt*=t,this.Mt*=t,this}},updateTransform:{value:function(){return this.Ti(),this}},updateStyle:{value:function(){var t,i,n,s,h,e,u,r=this;do{var o=r.oi,c=r.ci,f=r.fi,a=r.ai,l=r.li,v=r.vi,g=r.gi;o!=dt&&t===S&&(t=o),c!=dt&&i===S&&(i=c),f!=dt&&n===S&&(n=f),a!=dt&&s===S&&(s=a),l!=dt&&h===S&&(h=l),v!=dt&&e===S&&(e=v),g!=dt&&u===S&&(u=g)}while(p(r=r.ri));return t!==S&&this.v!==t&&(this.v=t),i!==S&&this.g!==i&&(this.g=i),n!==S&&this._!==n&&(this._=n),s!==S&&this.p!==s&&(this.p=s),h!==S&&this.m!==h&&(this.m=h),e!==S&&this.P!==e&&(this.P=e),u!==S&&this.k!==u&&(this.k=u),this}},updateFillStyle:{value:function(){var t,i=this;do{var n=i.di;n!=dt&&t===S&&(t=n)}while(p(i=i.ri));return t!==S&&this.I!==t&&(this.I=t),this}},updateStrokeStyle:{value:function(){var t,i,n,s,h,e,u,r=this;do{var o=r._i,c=r.pi,f=r.bi,a=r.mi,l=r.Pi,v=r.wi,g=r.ki;o!=dt&&t===S&&(t=o),c!=dt&&i===S&&(i=c),f!=dt&&n===S&&(n=f),a!=dt&&s===S&&(s=a),l!=dt&&h===S&&(h=l),v!=dt&&e===S&&(e=v),g!=dt&&u===S&&(u=g)}while(p(r=r.ri));return t!==S&&this.S!==t&&(this.S=t),i!==S&&this.O!==i&&(this.O=i),n!==S&&this.R!==n&&(this.R=n),s!==S&&this.T!==s&&(this.T=s),h!==S&&this.C!==h&&(this.C=h),e!==S&&this.X!==e&&(this.X=e),u!==S&&this.Y!==u&&(this.Y=u),this}},updateImageStyle:{value:function(){var t,i,n=this;do{var s=n.yi,h=n.Ii;s!=dt&&t===S&&(t=s),h!=dt&&i===S&&(i=h)}while(p(n=n.ri));return t!==S&&this.t!==t&&(this.t=t),i!==S&&this.i!==i&&(this.i=i),this}},updateTextStyle:{value:function(){var t,i,n,s,h=this;do{var e=h.Si,u=h.xi,r=h.Oi,o=h.Ri;e!=dt&&t===S&&(t=e),u!=dt&&i===S&&(i=u),r!=dt&&n===S&&(n=r),o!=dt&&s===S&&(s=o)}while(p(h=h.ri));return t!==S&&this.h!==t&&(this.h=t),i!==S&&this.u!==i&&(this.u=i),n!==S&&this.o!==n&&(this.o=n),s!==S&&this.l!==s&&(this.l=s),this}},a:{get:function(){return this.ct}},b:{get:function(){return this.ft}},c:{get:function(){return this.Ft}},d:{get:function(){return this.Ht}},e:{get:function(){return this.Nt}},f:{get:function(){return this.Ut}},Ti:{value:function(){var t=this,i=1,n=0,s=0,h=1,e=0,u=0;do{var r=t.Zt,o=t.Mt,c=t.ni,f=t.hi,a=t.Vt,l=t.ti,v=t.ei,g=t.ui,d=r*(a-f*l),r=r*(l+f*a),f=o*(c*a-l),a=o*(c*l+a),_=i*d+n*f,n=i*r+n*a,i=_}while(_=s*d+h*f,h=s*r+h*a,s=_,_=e*d+u*f+t.at+v*(1-d)-g*f,u=e*r+u*a+t.lt+g*(1-a)-v*r,e=_,p(t=t.ri));return!(this.Nt===e&&this.Ut===u&&this.ct===i&&this.Ht===h&&this.ft===n&&this.Ft===s||!w(_=i*h-n*s))&&(this.ct=i,this.ft=n,this.Ft=s,this.Ht=h,this.Nt=e,this.Ut=u,this.Gt=h/_,this.jt=-n/_,this.Et=-s/_,this.zt=i/_,this.Jt=(s*u-h*e)/_,this.Kt=(n*e-i*u)/_,!0)}}});j={Ci:{value:!0},context:{get:function(){return this.Xi},set:function(t){this.Xi=t}}};function bi(t,i,n,s){pi.call(this,n,s),this.startX=pt(t,0),this.startY=pt(i,0)}t(bi,pi,j,{startX:{get:function(){return this.Yi},set:function(t){this.Yi=t}},startY:{get:function(){return this.Di},set:function(t){this.Di=t}},fill:{value:function(t){return this.Qi().Li().Bi(t)}},stroke:{value:function(){return this.Wi().Li().Ai()}},clip:{value:function(t){return this.Li().Gi().qi(t)}},restore:{value:function(t){for(var i,n=this.Xi,s=n.Hi;s.length&&(i=s.pop(),n.ct=i.ct,n.ft=i.ft,n.Ft=i.Ft,n.Ht=i.Ht,n.Nt=i.Nt,n.Ut=i.Ut,n.Gt=i.Gt,n.jt=i.jt,n.Et=i.Et,n.zt=i.zt,n.Jt=i.Jt,n.Kt=i.Kt,n.v=i.v,n.g=i.g,n._=i._,n.p=i.p,n.m=i.m,n.P=i.P,n.k=i.k,n.I=i.I,n.S=i.S,n.O=i.O,n.R=i.R,n.T=i.T,n.C=i.C,n.X=i.X,n.Y=i.Y,n.h=i.h,n.u=i.u,n.o=i.o,n.l=i.l,n.t=i.t,n.i=i.i,n.restore(),--t););return this}},clearRect:{value:function(t,i,n,s,h){return this.clip(h).Xi.clearRect(this.Yi+t,this.Di+i,n,s),this.restore()}},rebuildPath:{value:function(){this.buildPath(this.context,this.startX,this.startY)}},buildPath:E({value:function(t,i,n){t.beginPath()}},Gt),isPointInPath:{value:function(t,i){return this.zi(!0,t,i)}},isPointInStroke:{value:function(t,i){return this.zi(!1,t,i)}},isQuickInPath:{value:function(t,i){return this.ji(!0,t,i)}},isQuickInStroke:{value:function(t,i){return this.ji(!1,t,i)}},createLinearGradient:{value:function(t,i,n,s){return e(t+this.Yi,i+this.Di,n+this.Yi,s+this.Di)}},createRadialGradient:{value:function(t,i,n,s,h,e){return v(t+this.Yi,i+this.Di,n,s+this.Yi,h+this.Di,e)}},createConicGradient:{value:function(t,i,n){return g(t,i+this.Yi,n+this.Di)}},Bi:{value:function(t){return this.Xi.fill(t),this}},Ai:{value:function(){return this.Xi.stroke(),this}},Qi:{value:function(){return this.Ei().Fi()}},Wi:{value:function(){return this.Ei().Ni()}},Ei:{value:function(){var t=this.updateStyle().Xi,i=t.V,n=this.v,s=this.g,h=this._,e=this.p,u=this.m,r=this.P,o=this.k;return t.v!==n&&(t.globalAlpha=t.v=n),t.g!==s&&(t.globalCompositeOperation=t.g=s),t._!==h&&(t.filter=t._=h),t.p!==e&&(t.shadowBlur=(t.p=e)*i),t.m!==u&&(t.shadowColor=t.m=u),t.P!==r&&(t.shadowOffsetX=(t.P=r)*i),t.k!==o&&(t.shadowOffsetY=(t.k=o)*i),this}},Fi:{value:function(){var t=this.updateFillStyle().Xi,i=this.I;return t.I!==i&&(t.fillStyle=t.I=i),this}},Ni:{value:function(){var t=this.updateStrokeStyle().Xi,i=this.S,n=this.O,s=this.R,h=this.T,e=this.C,u=this.X,r=this.Y;return t.S!==i&&(t.strokeStyle=t.S=i),t.O!==n&&t.setLineDash(t.O=n),t.R!==s&&(t.lineDashOffset=t.R=s),t.T!==h&&(t.lineWidth=t.T=h),t.C!==e&&(t.lineCap=t.C=e),t.X!==u&&(t.lineJoin=t.X=u),t.Y!==r&&(t.miterLimit=t.Y=r),this}},qi:{value:function(t){return this.Xi.clip(t),this}},Gi:{value:function(){var t=this.Xi;return t.Hi.push({ct:t.ct,ft:t.ft,Ft:t.Ft,Ht:t.Ht,Nt:t.Nt,Ut:t.Ut,Gt:t.Gt,jt:t.jt,Et:t.Et,zt:t.zt,Jt:t.Jt,Kt:t.Kt,v:t.v,g:t.g,_:t._,p:t.p,m:t.m,P:t.P,k:t.k,I:t.I,S:t.S,O:t.O,R:t.R,T:t.T,C:t.C,X:t.X,Y:t.Y,h:t.h,u:t.u,o:t.o,l:t.l,t:t.t,i:t.i}),t.save(),this}},Ji:{value:function(){var t,i,n,s,h,e,u=this.updateTransform().Xi,r=this.ct,o=this.ft,c=this.Ft,f=this.Ht,a=this.Nt,l=this.Ut;return u.ct!==r||u.Ht!==f||u.ft!==o||u.Ft!==c?(t=u.Gt,i=u.jt,n=u.Et,s=u.zt,h=u.Jt,e=u.Kt,u.transform(r*t+o*n,r*i+o*s,c*t+f*n,c*i+f*s,a*t+l*n+h,a*i+l*s+e),u.ct=r,u.ft=o,u.Ft=c,u.Ht=f,u.Nt=a,u.Ut=l,u.Gt=this.Gt,u.jt=this.jt,u.Et=this.Et,u.zt=this.zt,u.Jt=this.Jt,u.Kt=this.Kt):u.Nt===a&&u.Ut===l||(u.translate(a*u.Gt+l*u.Et+u.Jt,a*u.jt+l*u.zt+u.Kt),u.Nt=a,u.Ut=l,u.Jt=this.Jt,u.Kt=this.Kt),this}},Ui:{value:function(){var t=this.Xi,i=t.Gt,n=t.jt,s=t.Et,h=t.zt,e=t.Jt,u=t.Kt;return 1!==i||1!==h||0!==n||0!==s?(t.transform(i,n,s,h,e,u),gi(t)):0===e&&0===u||(t.translate(e,u),di(t)),this}},Li:{value:function(){return this.Ji().rebuildPath(),this}},zi:{value:function(t,i,n){var s=this.Xi,h=this.Gt,e=this.jt,u=this.Et,r=this.zt,o=this.Jt,c=this.Kt,f=s.ct,a=s.ft,l=s.Ft,v=s.Ht,g=s.V,v=((h*a+e*v)*i+(u*a+r*v)*n+o*a+c*v+s.Ut)*g;return i=((h*f+e*l)*i+(u*f+r*l)*n+o*f+c*l+s.Nt)*g,n=v,t?this.Ki(i,n):this.Zi(i,n)}},Ki:{value:function(t,i){return this.rebuildPath(),this.Xi.isPointInPath(t,i)}},Zi:{value:function(t,i){return this.rebuildPath(),this.Xi.isPointInStroke(t,i)}},ji:{value:function(t,i,n){var s=this.jt*i+this.zt*n+this.Kt;return i=this.Gt*i+this.Et*n+this.Jt,n=s,t?this.Mi(i,n):this.Vi(i,n)}},Mi:{value:function(t,i){var n=this.Xi.V;return this.Ui().Ki(t*n,i*n)}},Vi:{value:function(t,i){var n=this.Xi.V;return this.Ui().Zi(t*n,i*n)}}});D=function(t,i){return t>=this.left&&i>=this.top&&t<=this.right&&i<=this.bottom},Ut={left:{get:function(){return this.Yi+this.$i+this.tn}},top:{get:function(){return this.Di+this.nn+this.sn}},right:{get:function(){return this.Yi+this.$i+this.hn}},bottom:{get:function(){return this.Di+this.nn+this.en}},Mi:{value:D},Vi:{value:function(t,i){var n=this.left,s=this.top,h=this.right,e=this.bottom,u=this.T;return(0===it((t-n)/u)||0===it((t-h)/u))&&s<=i&&i<=e||(0===it((i-s)/u)||0===it((i-e)/u))&&n<=t&&t<=h}}},K=E({tn:{get:function(){return Z(this.width,0)}},sn:{get:function(){return Z(this.height,0)}},hn:{get:function(){return M(this.width,0)}},en:{get:function(){return M(this.height,0)}}},Ut),Nt={$i:{get:function(){return 0}},nn:{get:function(){return 0}}};function mi(t,i,n,s,h,e){bi.call(this,t,i,h,e),this.width=n,this.height=s}function Pi(t,i,n,s,h,e,u){mi.call(this,t,i,n,s,e,u),this.spacing=h}t(mi,bi,K,Nt,{width:{get:function(){return this.un},set:function(t){this.un=t}},height:{get:function(){return this.rn},set:function(t){this.rn=t}},rebuildPath:{value:function(){this.buildPath(this.context,this.startX,this.startY,this.width,this.height)}},buildPath:{value:function(t,i,n,s,h){t.beginPath(),t.rect(i,n,s,h)}}}),t(Pi,mi,{spacing:{get:function(){return this.cn},set:function(t){this.cn=k(t)}},rebuildPath:{value:function(){this.buildPath(this.context,this.left,this.top,this.right,this.bottom,this.spacing)}},buildPath:{value:function(t,i,n,s,h,e){var u,r=i,o=n,c=h;for(t.beginPath();r<s;)t.lineTo(r,o),t.lineTo(r,c),u=o,o=c,c=u,r+=e;for(1&tt((s-i)/e)&&(t.lineTo(s,o),t.lineTo(s,c)),r=n,o=i,c=s,t.moveTo(o,r);r<h;)t.lineTo(o,r),t.lineTo(c,r),u=o,o=c,c=u,r+=e;1&tt((h-n)/e)&&(t.lineTo(o,h),t.lineTo(c,h))}}});Et={radius:{get:function(){return this.fn},set:function(t){this.fn=t}}};function wi(t,i,n,s,h,e,u){mi.call(this,t,i,n,s,e,u),this.radius=pt(h,0)}t(wi,mi,Et,{rebuildPath:{value:function(){this.buildPath(this.context,this.left,this.top,this.right,this.bottom,this.radius)}},buildPath:{value:function(t,i,n,s,h,e){t.beginPath(),t.moveTo(i+e,n),t.arcTo(s,n,s,h,e),t.arcTo(s,h,i,h,e),t.arcTo(i,h,i,n,e),t.arcTo(i,n,s,n,e)}}});function ki(t,i,n){t.t!==i&&(t.imageSmoothingEnabled=t.t=i),t.i!==n&&(t.imageSmoothingQuality=t.i=n)}function yi(t,i,n,s,h,e,u,r,o,c,f){mi.call(this,t,i,e,u,s,h),a(n)?this.src=n:this.image=n,this.cropX=r,this.cropY=o,this.cropWidth=c,this.cropHeight=f}function Ii(t,i,n,s,h,e,u,r,o,c,f){mi.call(this,t,i,n,s,c,f),this.amplitude=pt(h,10),this.method=pt(e,et),this.period=pt(u,at),this.phase=pt(r,0),this.step=o}t(yi,mi,{width:{get:function(){return this.an?this.ln:this.un},set:function(t){this.un=t}},height:{get:function(){return this.vn?this.gn:this.rn},set:function(t){this.rn=t}},cropX:{get:function(){return this.dn},set:function(t){this.dn=t}},cropY:{get:function(){return this._n},set:function(t){this._n=t}},cropWidth:{get:function(){return this.pn},set:function(t){this.pn=t}},cropHeight:{get:function(){return this.bn},set:function(t){this.bn=t}},src:{get:function(){return this.mn},set:function(t){i(this.mn=B(t),this.Pn,this)}},image:{get:function(){return this.wn},set:function(t){_t(t)?this.wn=this.mn=this.ln=this.gn=S:this.wn!==t&&(this.wn=t,this.mn=t.src,this.ln=t.naturalWidth,this.gn=t.naturalHeight)}},complete:{get:function(){return this.wn&&this.wn.src===this.mn}},onload:Ht,toImageData:{value:function(){var t=this.width,i=this.height;return Xt(t,i),ki(Qt,this.t,this.i),this.kn(Qt,0,0),Qt.getImageData(0,0,t,i)}},createPattern:{value:function(t){t=d(this.wn,t);return t.setTransform({a:this.ct,b:this.ft,c:this.Ft,d:this.Ht,e:this.Nt+this.Yi*this.ct+this.Di*this.Ft,f:this.Ut+this.Yi*this.ft+this.Di*this.Ht}),t}},fill:{value:function(){return this.yn().Ji().kn(this.Xi,this.Yi,this.Di)}},Pn:{value:function(t,i){-1!==t.src.indexOf(this.mn)&&(this.image=t,this.onload(i))}},an:{get:function(){return _t(this.un)}},vn:{get:function(){return _t(this.rn)}},In:{get:function(){return _t(this.dn)||_t(this._n)||_t(this.pn)||_t(this.bn)}},kn:{value:function(t,i,n){var s,h=this.wn;return h!=dt&&(this.In?this.an&&this.vn?t.drawImage(h,i,n):t.drawImage(h,i,n,this.width,this.height):(s=t.V,t.drawImage(h,this.dn*s,this._n*s,this.pn*s,this.bn*s,i,n,this.width,this.height))),this}},yn:{value:function(){return this.Ei().Sn()}},Sn:{value:function(){return ki(this.updateImageStyle().Xi,this.t,this.i),this}}}),t(Ii,mi,{amplitude:{get:function(){return this.xn},set:function(t){this.xn=t}},method:{get:function(){return this.On},set:function(t){this.On=t}},period:{get:function(){return this.Rn},set:function(t){this.Rn=t}},phase:{get:function(){return this.Tn},set:function(t){this.Tn=t}},step:{get:function(){return this.Cn},set:function(t){this.Cn=k(t)}},rebuildPath:{value:function(){this.buildPath(this.context,this.left,this.top,this.right,this.bottom,this.amplitude,this.method,this.period,this.phase,this.step)}},buildPath:{value:function(t,i,n,s,h,e,u,r,o,c){t.beginPath();for(var f=i;f<s;f+=c)t.lineTo(f,n+e*u((f-i)/(s-i)*r+o));t.lineTo(s,n+e*u(r+o)),t.lineTo(s,h),t.lineTo(i,h),t.closePath()}}});mt={data:{get:function(){return this.Xn}}};function Si(t,i,n,s,h,e,u,r){oi.call(this),this.getImageData(t,i,n,s),this.dirtyX=h,this.dirtyY=e,this.dirtyWidth=u,this.dirtyHeight=r}t(Si,oi,j,mt,{dirtyX:{get:function(){return this.Yn},set:function(t){this.Yn=t}},dirtyY:{get:function(){return this.Dn},set:function(t){this.Dn=t}},dirtyWidth:{get:function(){return this.Bn},set:function(t){this.Bn=t}},dirtyHeight:{get:function(){return this.Ln},set:function(t){this.Ln=t}},imageData:{get:function(){return this.Qn},set:function(t){_t(t)?this.Qn=this.Xn=this.un=this.rn=S:this.Qn!==t&&(this.Qn=t,this.Xn=t.data,this.un=t.width,this.rn=t.height)}},width:{get:function(){return this.un}},height:{get:function(){return this.rn}},left:{get:function(){return this.at}},top:{get:function(){return this.lt}},right:{get:function(){return this.at+this.un}},bottom:{get:function(){return this.lt+this.rn}},getImageData:{value:function(t,i,n,s){return n!=dt&&(o(n.data)?this.imageData=_t(s)?n.Qn||n:new Y(n.data,s):_t(t)||_t(i)||_t(this.Xi)?this.imageData=Qt.createImageData(n,s):this.imageData=this.Xi.getImageData(t,i,n,s),this.x=t,this.y=i),this}},toDataURL:{value:function(t,i){return this.An(),Lt.toDataURL(t,i)}},toBlob:{value:function(t,i,n){return this.An(),Lt.toBlob(t,i,n),this}},fill:{value:function(){return this.Wn(this.Xi,this.at,this.lt)}},isPointInPath:{value:D},getPixelIndex:{value:function(t,i){return 4*(t-this.at+(i-this.lt)*this.un)}},forEach:{value:function(t,i,n,s,h,e){h=m(h,this.right-(n=b(n,this.left))),e=m(e,this.bottom-(s=b(s,this.top)));for(var u,r=this.Xn,o=this.getPixelIndex(n,s),c=4*(this.un-h),f=n+h,a=s+e,l=s;l<a;l++){for(u=n;u<f;u++)t.call(i,r,o,u,l),o+=4;o+=c}return this}},mosaic:{value:function(t,i,n,s,h){if(1===(t=k(t)))return this;s=m(s,this.right-(i=b(i,this.left))),h=m(h,this.bottom-(n=b(n,this.top)));for(var e,f=this.Xn,a=this.getPixelIndex(i,n),l=this.un,u=$(h/t),r=$(s/t),o=s%t,c=h%t,v=function(t,i){for(var n,s=t*i,h=a,e=4*(l-t),u=0,r=0,o=0,c=0;c<i;c++){for(n=0;n<t;n++)u+=f[h],r+=f[h+1],o+=f[h+2],h+=4;h+=e}for(h=a,u/=s,r/=s,o/=s,c=0;c<i;c++){for(n=0;n<t;n++)f[h]=u,f[h+1]=r,f[h+2]=o,h+=4;h+=e}},g=0;g<u;g++){for(e=0;e<r;e++)v(t,t),a+=4*t;0!=o&&v(o,t),a+=4*(o+(t-1)*l)}for(e=0;e<r;e++)0!=c&&v(t,c),a+=4*t;return o*c!=0&&v(o,c),this}},transparencyDisposal:{value:function(n,t,i,s,h){return n=255*pt(n,1),this.forEach(function(t,i){t[i]>=n&&t[i+1]>=n&&t[i+2]>=n&&(t[i+3]=0)},this,t,i,s,h)}},reverseColor:{value:function(t,i,n,s){return this.forEach(function(t,i){t[i]=255-t[i],t[i+1]=255-t[i+1],t[i+2]=255-t[i+2]},this,t,i,n,s)}},greyProcessing:{value:function(t,i,n,s){return this.forEach(function(t,i){t[i]=t[i+1]=t[i+2]=.299*t[i]+.587*t[i+1]+.114*t[i+2]},this,t,i,n,s)}},blackWhite:{value:function(n,t,i,s,h){return n=_t(n)?127:254*n,this.forEach(function(t,i){t[i]=t[i+1]=t[i+2]=(t[i]+t[i+1]+t[i+2])/3>n?255:0},this,t,i,s,h)}},relief:{value:function(){for(var t,i=this.Xn,n=this.un,s=n-1,h=this.rn-1,e=4*n,u=0,r=0;r<h;r++){for(t=0;t<s;t++)i[u]=2*i[u]-i[u+4]-i[u+e]+127.5,i[u+1]=2*i[u+1]-i[u+5]-i[u+1+e]+127.5,i[u+2]=2*i[u+2]-i[u+6]-i[u+2+e]+127.5,u+=4;u+=4}for(u=4*s,r=0;r<h;r++)i[u]=i[u-4],i[u+1]=i[u-3],i[u+2]=i[u-2],u+=e;for(u=h*e,t=0;t<n;t++)i[u]=i[u-e],i[u+1]=i[u+1-e],i[u+2]=i[u+2-e],u+=4;return this}},sunGlass:{value:function(){for(var t,i=this.Xn,n=this.un,s=n-1,h=this.rn-1,e=4*n,u=0,r=0;r<h;r++){for(t=0;t<s;t++)i[u]=2*i[u]-1.5*i[u+4],i[u+1]=2*i[u+1]-1.5*i[u+5],i[u+2]=2*i[u+2]-1.5*i[u+6],u+=4;u+=4}for(u=4*s,r=0;r<h;r++)i[u]=i[u-4],i[u+1]=i[u-3],i[u+2]=i[u-2],u+=e;for(u=h*e,t=0;t<n;t++)i[u]=i[u-e],i[u+1]=i[u+1-e],i[u+2]=i[u+2-e],u+=4;return this}},frostedGlass:{value:function(u){return 1===(u=k(u))?this:this.forEach(function(t,i,n,s){var h=y(u),e=y(u);n+h>=this.right||s+e>=this.bottom||(e=i+4*(h+e*this.un),t[i]=t[e],t[i+1]=t[e+1],t[i+2]=t[e+2],t[i+3]=t[e+3])},this)}},qn:{get:function(){return _t(this.Yn)||_t(this.Dn)||_t(this.Bn)||_t(this.Ln)}},Wn:{value:function(t,i,n){var s=this.Qn;return s!=dt&&(this.qn?t.putImageData(s,i,n):t.putImageData(s,i,n,this.Yn,this.Dn,this.Bn,this.Ln)),this}},An:{value:function(){this.qn?Xt(this.un,this.rn):Xt(this.Bn,this.Ln),this.Wn(Qt,0,0)}}});var xi=function(t,i,n,s,h){t.h!==i&&(t.font=t.h=i),t.u!==n&&(t.textAlign=t.u=n),t.o!==s&&(t.textBaseline=t.o=s),t.l!==h&&(t.direction=t.l=h)},j={Li:{value:bi.prototype.Ji}};function Oi(t,i,n,s,h,e){bi.call(this,t,i,h,e),this.text=pt(n,""),this.maxWidth=s}t(Oi,bi,Ut,Nt,j,{text:{get:function(){return this.Gn},set:function(t){this.Gn=t}},maxWidth:{get:function(){return this.Hn},set:function(t){this.Hn=t}},metrics:{get:function(){return h(this.Gn,this.h,this.u,this.o,this.l)}},width:{get:function(){return this.un*this.zn}},actualBoundingBoxWidth:{get:function(){return this.metrics.actualBoundingBoxWidth*this.zn}},actualBoundingBoxHeight:{get:function(){return this.metrics.actualBoundingBoxHeight}},tn:{get:function(){return-this.metrics.actualBoundingBoxLeft*this.zn}},sn:{get:function(){return-this.metrics.actualBoundingBoxAscent}},hn:{get:function(){return this.metrics.actualBoundingBoxRight*this.zn}},en:{get:function(){return this.metrics.actualBoundingBoxDescent}},un:{get:function(){return this.metrics.width}},zn:{get:function(){var t,i=this.Hn;return i!=dt&&i<(t=this.un)?i/t:1}},zi:{value:Oi.prototype.ji},Bi:{value:function(){return this.Xi.fillText(this.Gn,this.Yi,this.Di,this.Hn),this}},Ai:{value:function(){return this.Xi.strokeText(this.Gn,this.Yi,this.Di,this.Hn),this}},qi:{value:function(){var t=this.Xi;return t.beginPath(),t.rect(this.left,this.top,this.actualBoundingBoxWidth,this.actualBoundingBoxHeight),t.clip(),this}},Qi:{value:function(){return bi.prototype.Qi.call(this).jn()}},Wi:{value:function(){return bi.prototype.Wi.call(this).jn()}},jn:{value:function(){return xi(this.updateTextStyle().Xi,this.h,this.u,this.o,this.l),this}}});D={centerX:{get:function(){return this.Yi+this.$i}},centerY:{get:function(){return this.Di+this.nn}},Mi:{value:function(t,i){var n=this.centerX,s=this.centerY,h=this.radius;return(n-t)*(n-t)+(s-i)*(s-i)<=h*h}},Vi:{value:function(t,i){var n=this.centerX,s=this.centerY;return 0===it((ht((n-t)*(n-t)+(s-i)*(s-i))-this.radius)/this.T)}}};function Ri(t,i,n,s,h,e,u,r){bi.call(this,t,i,u,r),this.radius=pt(n,0),this.startAngle=pt(s,0),this.endAngle=pt(h,at),this.anticlockwise=pt(e,!1)}function Ti(t,i,n,s,h,e,u,r){Ri.call(this,t,i,n,s,h,e,u,r)}t(Ri,bi,D,Nt,Et,{startAngle:{get:function(){return this.Fn},set:function(t){this.Fn=t}},endAngle:{get:function(){return this.En},set:function(t){this.En=t}},anticlockwise:{get:function(){return this.Nn},set:function(t){this.Nn=t}},rebuildPath:{value:function(){this.buildPath(this.context,this.startX,this.startY,this.radius,this.startAngle,this.endAngle,this.anticlockwise)}},buildPath:{value:function(t,i,n,s,h,e,u){t.beginPath(),t.arc(i,n,s,h,e,u)}}}),t(Ti,Ri,{buildPath:{value:function(t,i,n,s,h,e,u){Ri.prototype.buildPath.call(this,t,i,n,s,h,e,u),t.lineTo(i,n),t.closePath()}}});Ut={innerRadius:{get:function(){return this.Jn},set:function(t){this.Jn=t}}};function Ci(t,i,n,s,h,e,u,r,o){Ri.call(this,t,i,n,h,e,u,r,o),this.innerRadius=pt(s,0)}function Xi(t,i,n,s,h,e,u,r,o){Ri.call(this,t,i,n,h,e,u,r,o),this.radiusY=pt(s,0)}function Yi(t,i,n,s,h,e){bi.call(this,t,i,h,e),this.sides=pt(s,3)}function Di(t,i,n,s,h,e){Yi.call(this,t,i,n,s,h,e)}t(Ci,Ri,Ut,{outerRadius:{get:function(){return this.fn},set:function(t){this.fn=t}},rebuildPath:{value:function(){this.buildPath(this.context,this.startX,this.startY,this.outerRadius,this.innerRadius,this.startAngle,this.endAngle,this.anticlockwise)}},buildPath:{value:function(t,i,n,s,h,e,u,r){Ri.prototype.buildPath.call(this,t,i,n,s,e,u,r),t.arc(i,n,h,u,e,!r),t.closePath()}}}),t(Xi,Ri,{radiusX:{get:function(){return this.fn},set:function(t){this.fn=t}},radiusY:{get:function(){return this.Un},set:function(t){this.Un=t}},rebuildPath:{value:function(){this.buildPath(this.context,this.startX,this.startY,this.radiusX,this.radiusY,this.startAngle,this.endAngle,this.anticlockwise)}},buildPath:{value:function(t,i,n,s,h,e,u,r){t.beginPath(),t.ellipse(i,n,s,h,0,e,u,r)}},Mi:{value:function(t,i){var n=this.Yi,s=this.Di,h=this.fn,e=this.Un;return(t-n)*(t-n)*e/h+(i-s)*(i-s)*h/e<=h*e}},Vi:{value:function(t,i){var n=this.Yi,s=this.Di,h=this.fn,e=this.Un;return 0===it((ht((t-n)*(t-n)*e/h+(i-s)*(i-s)*h/e)-ht(h*e))/this.T)}}}),t(Yi,bi,D,Nt,Et,{sides:{get:function(){return this.Kn},set:function(t){this.Kn!==t&&(this.Kn=t,this.Zn=ut(at/t),this.Mn=et(at/t))}},rebuildPath:{value:function(){this.buildPath(this.context,this.startX,this.startY,this.radius,this.sides,this.Zn,this.Mn)}},buildPath:{value:function(t,i,n,s,h,e,u){var r,o=s,c=0;t.beginPath(),t.moveTo(i+o,n+c);for(var f=0;f<h-1;f++)r=o*u+c*e,o=o*e-c*u,c=r,t.lineTo(i+o,n+c);t.closePath()}}}),t(Di,Yi,Ut,{sides:{get:function(){return this.Kn},set:function(t){this.Kn!==t&&(this.Kn=t,this.Zn=ut(at/t),this.Mn=et(at/t),this.Vn=ut(ft/t),this.$n=et(ft/t))}},rebuildPath:{value:function(){this.buildPath(this.context,this.startX,this.startY,this.radius,this.sides,this.Zn,this.Mn,this.Vn,this.$n,_t(this.Jn)?this.fn/(4<this.Kn?this.Vn/this.Zn:3):this.Jn)}},buildPath:{value:function(t,i,n,s,h,e,u,r,o,c){var f,a=s*e,l=s*u,v=c*r,g=c*o;t.beginPath();for(var d=0;d<2*h;d++)1&d?(t.lineTo(i+a,n+l),f=a*u+l*e,a=a*e-l*u,l=f):(t.lineTo(i+v,n+g),f=v*u+g*e,v=v*e-g*u,g=f);t.closePath()}}});var Bi=ht(3),Li=function(t,i,n,s,h,e){var u=(s-i)/3,r=(h-n)/3,o=i+u,c=n+r,f=o+(u+r*Bi)/2,a=c+(r-u*Bi)/2,u=i+2*u,r=n+2*r;--e?(Li(t,i,n,o,c,e),Li(t,o,c,f,a,e),Li(t,f,a,u,r,e),Li(t,u,r,s,h,e)):(t.lineTo(o,c),t.lineTo(f,a),t.lineTo(u,r),t.lineTo(s,h))};function Qi(t,i,n,s,h,e){Yi.call(this,t,i,n,s,h,e)}function Ai(t,i,n,s,h,e){bi.call(this,t,i,h,e),this.endX=pt(n,0),this.endY=pt(s,0)}function Wi(t,i,n,s,h,e,u,r){Ai.call(this,t,i,n,s,u,r),this.controlX=h,this.controlY=e}function qi(t,i,n,s,h,e,u,r,o,c){Wi.call(this,t,i,n,s,h,e,o,c),this.controlX2=u,this.controlY2=r}t(Qi,Yi,{sides:{get:function(){return this.Kn},set:function(t){this.Kn=k(t)}},buildPath:{value:function(t,i,n,s,h){var e,u=Bi/2,r=-.5*s,o=s*u,c=i+s;t.beginPath(),Li(t,c,n,e=i+r,s=n+o,h),Li(t,e,s,e=i+(-.5*r-o*u),s=n+(r*u+-.5*o),h),Li(t,e,s,c,n,h),t.closePath()}}}),t(Ai,bi,{endX:{get:function(){return this.ts},set:function(t){this.ts=t}},endY:{get:function(){return this.ns},set:function(t){this.ns=t}},length:{get:function(){var t=this.ts-this.Yi,i=this.ns-this.Di;return ht(t*t+i*i)}},angle:{get:function(){return ot(this.ns-this.Di,this.ts-this.Yi)}},rebuildPath:{value:function(){this.buildPath(this.context,this.startX,this.startY,this.endX,this.endY)}},buildPath:{value:function(t,i,n,s,h){t.beginPath(),t.moveTo(i,n),t.lineTo(s,h)}}}),t(Wi,Ai,{controlX:{get:function(){return this.ss},set:function(t){this.ss=t}},controlY:{get:function(){return this.hs},set:function(t){this.hs=t}},startAngle:{get:function(){return this.Fn}},endAngle:{get:function(){return this.En}},rebuildPath:{value:function(){this.buildPath(this.context,this.startX,this.startY,this.endX,this.endY,this.controlX,this.controlY,this.es,this)}},buildPath:{value:function(t,i,n,s,h,e,u,r,o){var c,f,a,l,v,g,d,_,p,b=s-i,m=h-n,P=i-e,w=n-u;t.beginPath(),!r&&b*w-m*P>>0?(p=-(d=-(a=i*i+n*n)*(f=m+w)+(l=s*s+h*h)*w+(v=e*e+u*u)*m)/(g=i*f-n*(c=b+P)+s*u-e*h)/2,r=-(_=a*c-l*P-v*b)/g/2,P=c*w<f*P,t.arc(p,r,ht((d*d+_*_-4*g*(a*(e*h-s*u)+l*(i*u-e*n)+v*(s*n-i*h)))/(4*g*g)),g=ot(n-r,i-p),p=ot(h-r,s-p),P),P?(g-=lt,p-=lt):(g+=lt,p+=lt)):(t.moveTo(i,n),t.lineTo(s,h),g=p=ot(m,b)),o.Fn=g,o.En=p}},es:{get:function(){return _t(this.ss)||_t(this.hs)}}}),t(qi,Wi,{controlX1:{get:function(){return this.ss},set:function(t){this.ss=t}},controlY1:{get:function(){return this.hs},set:function(t){this.hs=t}},controlX2:{get:function(){return this.us},set:function(t){this.us=t}},controlY2:{get:function(){return this.rs},set:function(t){this.rs=t}},startAngle:{get:function(){return this.os?this.angle:ot(this.hs-this.Di,this.ss-this.Yi)}},endAngle:{get:function(){return this.os?this.angle:this.cs?ot(this.ns-this.hs,this.ts-this.ss):ot(this.ns-this.rs,this.ts-this.us)}},centerAngle:{get:function(){return this.cs?this.angle:ot(this.rs-this.hs,this.us-this.ss)}},rebuildPath:{value:function(){this.buildPath(this.context,this.startX,this.startY,this.endX,this.endY,this.controlX1,this.controlY1,this.controlX2,this.controlY2,this.os,this.cs)}},buildPath:{value:function(t,i,n,s,h,e,u,r,o,c,f){t.beginPath(),t.moveTo(i,n),c?t.lineTo(s,h):f?t.quadraticCurveTo(e,u,s,h):t.bezierCurveTo(e,u,r,o,s,h)}},os:{get:function(){return this.es}},cs:{get:function(){return _t(this.us)||_t(this.rs)}}});Ut={length:{get:function(){return this.H},set:function(t){this.H=t}}};function Gi(t,i,n,s,h,e){bi.call(this,t,i,h,e),this.length=pt(n,10),this.angle=pt(s,ft/3)}function Hi(t,i,n,s,h,e){Gi.call(this,t,i,n,s,h,e)}function zi(t,i,n,s,h,e){Gi.call(this,t,i,n,s,h,e)}function ji(t,i,n,s,h,e){Gi.call(this,t,i,n,s,h,e)}function Fi(t,i,n,s,h){bi.call(this,t,i,s,h),this.path=n}function Ei(t,i,n,s,h,e){bi.call(this,t,i,h,e),this.points=_t(n)?[]:n,this.length=pt(s,0),this.fs=[],this.Xn=[]}function Ni(t,i,n,s,h,e){Ei.call(this,t,i,n,s,h,e)}function Ji(t,i,n,s,h,e){Ni.call(this,t,i,n,s,h,e)}t(Gi,bi,Ut,{angle:{get:function(){return this.ls},set:function(t){return this.ls!==(t=_(t,ft))&&(this.ls=t,this.vs=rt(t/2)),this}},rebuildPath:{value:function(){this.buildPath(this.context,this.startX,this.startY,this.length,this.angle,this.vs)}},buildPath:{value:function(t,i,n,s,h,e){var u=i-s,e=-s*e;t.beginPath(),t.moveTo(u,n+e),t.lineTo(i,n),t.lineTo(u,n-e),t.closePath()}}}),t(Hi,Gi,{buildPath:{value:function(t,i,n,s,h,e){var u=i-s,r=i-s*(1-4*e/3),e=-s*e;t.beginPath(),t.moveTo(i,n),t.bezierCurveTo(r,n+3*e/2,u,n+e,u,n),t.bezierCurveTo(u,n-e,r,n-3*e/2,i,n),t.closePath()}}}),t(zi,Gi,{buildPath:{value:function(t,i,n,s,h,e){var u=i-2*s/3,r=i-5*s/3,e=-s*e;t.beginPath(),t.moveTo(i,n),t.bezierCurveTo(u,n+2*e,r,n+e/2,i-s,n),t.bezierCurveTo(r,n-e/2,u,n-2*e,i,n),t.closePath()}}}),t(ji,Gi,{buildPath:{value:function(t,i,n,s,h,e){var u=i-s,s=s*e,e=s*e;t.beginPath(),t.moveTo(u,n-s),t.lineTo(i,n),t.lineTo(u,n+s),t.arc(u-e,n,ht(s*s+e*e),(ft-h)/2,(h-ft)/2,!1)}}}),t(Fi,bi,j,{path:{get:function(){var t=new Path2D;return t.addPath(this.gs,{e:-this.Yi,f:-this.Di}),t},set:function(t){return this.gs=new Path2D,this.addPath(t)}},addPath:{value:function(t){switch(U.call(t)){case"[object String]":t&&this.gs.addPath(new Path2D(t),{e:this.Yi,f:this.Di});break;case"[object Path2D]":this.gs.addPath(t,{e:this.Yi,f:this.Di});break;case"[object Object]":this.gs.addPath(t.gs,{a:t.ct,b:t.ft,c:t.Ft,d:t.Ht,e:t.Nt+this.Yi,f:t.Ut+this.Di})}return this}},moveTo:{value:function(t,i){return this.gs.moveTo(this.Yi+t,this.Di+i),this}},lineTo:{value:function(t,i){return this.gs.lineTo(this.Yi+t,this.Di+i),this}},arcTo:{value:function(t,i,n,s,h){var e=this.Yi,u=this.Di;return this.gs.arcTo(e+t,u+i,e+n,u+s,h),this}},quadraticCurveTo:{value:function(t,i,n,s){var h=this.Yi,e=this.Di;return this.gs.quadraticCurveTo(h+t,e+i,h+n,e+s),this}},bezierCurveTo:{value:function(t,i,n,s,h,e){var u=this.Yi,r=this.Di;return this.gs.bezierCurveTo(u+t,r+i,u+n,r+s,u+h,r+e),this}},rect:{value:function(t,i,n,s){return this.gs.rect(this.Yi+t,this.Di+i,n,s),this}},arc:{value:function(t,i,n,s,h,e){return this.gs.arc(this.Yi+t,this.Di+i,n,s,h,e),this}},ellipse:{value:function(t,i,n,s,h,e,u,r){return this.gs.ellipse(this.Yi+t,this.Di+i,n,s,h,e,u,r),this}},closePath:{value:function(){return this.gs.closePath(),this}},Bi:{value:function(t){return this.Xi.fill(this.gs,t),this}},Ai:{value:function(){return this.Xi.stroke(this.gs),this}},qi:{value:function(t){return this.Xi.clip(this.gs,t),this}},Ki:{value:function(t,i){return this.Xi.isPointInPath(this.gs,t,i)}},Zi:{value:function(t,i){return this.Xi.isPointInStroke(this.gs,t,i)}}}),t(Ei,bi,Ut,mt,{points:{get:function(){return this.ds},set:function(t){this.ds=new T(t,{set:function(t,i,n){return t[i]=n,this._s=!0}.bind(this)}),this._s=!0}},built:{get:function(){return this.fs}},append:{value:function(t,i){return this.ds.push(t,i),this.ps(),this}},insert:{value:function(t,i,n){return this.ds.splice(2*t,0,i,n),this.ps(),this}},delete:{value:function(t){return this.ds.splice(2*t,2),this.bs(),this}},update:{value:function(t,i,n){return this.ds[2*t]=i,this.ds[2*t+1]=n,this}},peek:{value:function(t,i){return this.ds[2*t+i]}},clear:{value:function(){return this.ds.length=0,this.Ps(),this}},rebuildPath:{value:function(){this.buildPath(this.context,this.built,this.length)}},buildPath:E({value:function(t,i,n){t.beginPath()}},Gt),rebuildPoints:{value:function(){this.buildPoints(this.startX,this.startY,this.points,this.length,this.built)}},buildPoints:Ht,updateTransform:{value:function(){if(this.Ti()){var t,i,n,s=this.fs,h=this.Xn,e=this.H,u=this.ct,r=this.ft,o=this.Ft,c=this.Ht,f=this.Nt,a=this.Ut;if(1!==u||1!==c||0!==r||0!==o)for(t=0;t<e;t+=2)i=s[t],n=s[t+1],h[t]=i*u+n*o+f,h[t+1]=i*r+n*c+a;else if(0!==f||0!==a)for(t=0;t<e;t+=2)h[t]=s[t]+f,h[t+1]=s[t+1]+a;else for(t=0;t<e;t+=2)h[t]=s[t],h[t+1]=s[t+1]}return this}},Ti:{value:function(){var t=this._s,i=this.ws!==this.H&&(this.ws=this.fs.length=this.Xn.length=this.H,!0),n=(this.ks!==this.Yi||this.ys!==this.Di)&&(this.ks=this.Yi,this.ys=this.Di,!0),s=this.Is(),h=bi.prototype.Ti.call(this);return this._s=!1,t||i||n||s?(this.rebuildPoints(),!0):h}},ps:Ht,bs:Ht,Ps:Ht,Is:zt}),t(Ni,Ei,{buildPath:{value:function(t,i,n){t.beginPath(),t.moveTo(i[0],i[1]);for(var s=2;s<n;s+=2)t.lineTo(i[s],i[s+1])}},buildPoints:{value:function(t,i,n,s,h){for(var e=0;e<s;e+=2)h[e]=t+n[e],h[e+1]=i+n[e+1]}}}),t(Ji,Ni,{buildPath:{value:function(t,i,n){Ni.prototype.buildPath.call(this,t,i,n),t.closePath()}}});mt={Ps:{value:function(){this.H=0}}},zt=E({ps:{value:function(){this.H+=2}},bs:{value:function(){this.H-=2}}},mt);function Ui(t,i,n,s,h,e){Ni.call(this,t,i,n,s,h,e)}function Ki(t,i,n,s,h,e){Ji.call(this,t,i,n,s,h,e)}function Zi(t,i,n,s,h,e){Ni.call(this,t,i,n,pt(s,200),h,e)}t(Ui,Ni,zt),t(Ki,Ji,zt),t(Zi,Ni,{buildPoints:{value:function(t,i,n,s,h){for(var e,u,r,o,c,f,a,l=n.length/2-1,v=0;v<s;v+=2){for(c=v/(s-2),e=r=u=0;e<n.length;e+=2)a=l,o=(0===(f=o=e/2)||f===a?1:1===f||a-f==1?a:bt(a)/bt(a-f)/bt(f))*st(c,o)*st(1-c,l-o),u+=n[e]*o,r+=n[e+1]*o;h[v]=t+u,h[v+1]=i+r}}},elevateDegree:{value:function(){var t,i=this.ds,n=i.length,s=n;for(i[s]=i[s-2],i[s+1]=i[s-1];s-=2;)t=s/n,i[s]=t*i[s-2]+(1-t)*i[s],i[s+1]=t*i[s-1]+(1-t)*i[s+1];return this}}});zt={$i:{get:function(){return this.ds[0]}},nn:{get:function(){return this.ds[1]}}};function Mi(t,i,n,s,h,e){Ji.call(this,t,i,n,pt(s,8),h,e)}function Vi(t,i,n,s,h,e){Ji.call(this,t,i,n,pt(s,200),h,e)}function $i(t,i,n,s,h,e,u){Ji.call(this,t,i,n,pt(s,200),e,u),this.exponent=h}function tn(t,i,n,s,h,e,u){Ei.call(this,t,i,n,s,e,u),this.tension=h}t(Mi,Ji,K,zt,{width:{get:function(){return this.ds[2]-this.ds[0]}},height:{get:function(){return this.ds[3]-this.ds[1]}},buildPoints:{value:function(t,i,n,s,h){for(var e=t+n[0],u=i+n[1],r=t+n[2],o=i+n[3],c=r-e,f=o-u,a=s/4,l=a+a,v=s-a,g=0;g<a;g+=2)h[g]=g/a*c,h[g+1]=u,h[g+a]=r,h[g+a+1]=g/a*f,h[g+l+1]=o,h[g+v]=e;for(g=0;g<a;g+=2)h[g+l]=r-h[g],h[g]+=e,h[g+v+1]=o-h[g+a+1],h[g+a+1]+=u}}}),t(Vi,Ji,D,zt,{radius:{get:function(){var t=this.ds,i=t[2]-t[0],t=t[3]-t[1];return ht(i*i+t*t)}},buildPoints:{value:function(t,i,n,s,h){var e,u,r=ut(at/s*2),o=et(at/s*2),c=n[0],f=n[1],a=n[2]-c,l=n[3]-f;for(c+=t,f+=i,u=0;u<s;u+=2)h[u]=c+a,h[u+1]=f+l,e=l*r+a*o,a=a*r-l*o,l=e}}}),t($i,Ji,{exponent:{get:function(){return this.Ss},set:function(t){this.Ss=pt(t,3)}},rebuildPoints:{value:function(){this.buildPoints(this.startX,this.startY,this.points,this.length,this.exponent,this.built)}},buildPoints:{value:function(t,i,n,s,h,e){var u,r,o=s/4,c=n[0],f=n[1],a=n[2]-c,l=n[3]-f,v=ht(a*a+l*l),g=a/v,d=l/v;for(c+=t,f+=i,u=0;u<o;u+=2)a=v*st(ut(r=u/o*lt),2/h),l=v*st(et(r),2/h),e[u]=a*g-l*d,e[u+1]=l*g+a*d;for(u=o;u<s;u+=2)e[u]=-e[u-o+1],e[u+1]=e[u-o],e[u-o]+=c,e[u-o+1]+=f;for(u=3*o;u<s;u+=2)e[u]+=c,e[u+1]+=f}},Is:{value:function(){return this.xs!==this.Ss&&(this.xs=this.Ss,!0)}}}),t(tn,Ei,mt,{tension:{get:function(){return this.Os},set:function(t){this.Os=pt(t,1)}},rebuildPoints:{value:function(){this.buildPoints(this.startX,this.startY,this.points,this.length,this.tension,this.built)}},buildPoints:{value:function(t,i,n,s,h,e){for(var u,r,o,c,f,a,l,v=0,g=0,d=e[0]=t+n[0],_=e[1]=i+n[1],p=n.length,b=2;b<p&&(l=3*b-4)<s;b+=2)o=t+n[b],c=i+n[b+1],f=t+n[b+2],a=i+n[b+3],f==f?(u=(f-d)/6*h,r=(a-_)/6*h):u=r=0,e[l]=d+v,e[l+1]=_+g,e[l+2]=o-u,e[l+3]=c-r,v=u,g=r,d=e[l+4]=o,_=e[l+5]=c}},buildPath:{value:function(t,i,n){t.beginPath(),t.moveTo(i[0],i[1]);for(var s=2;s<n;s+=6)t.bezierCurveTo(i[s],i[s+1],i[s+2],i[s+3],i[s+4],i[s+5])}},ps:{value:function(){0!==this.H?this.H+=6:this.H=2}},bs:{value:function(){2<this.H?this.H-=6:this.H=0}},Is:{value:function(){return this.Rs!==this.Os&&(this.Rs=this.Os,!0)}}});var nn=new C(function(t){t.forEach(function(t){var i,n,s,h=t.target,e=h.Ts,u=e.length,r=h.getBoundingClientRect(),o=r.left%1,t=r.top%1,c=r.right-(h.Cs=r.left),f=r.bottom-(h.Xs=r.top);for(h.style.left=(o<.5?-o:1-o)+"px",h.style.top=(t<.5?-t:1-t)+"px",i=0;i<u;i++)s=(n=e[i]).Xi.V,(1<=nt((n.un-c)*s)||1<=nt((n.rn-f)*s))&&n.resize(c,f)})}),sn=new X(function(t){t.forEach(function(t){var i,n=t.target,t=t.isIntersecting,s=n.Ts,h=s.length;if(n.Ys!==t)for(n.Ys=t,i=0;i<h;i++)s[i].onvisibilitychange()})}),X={Ds:{value:function(t,i){var n=this.Bs;return n===S&&(n=this.Bs={}),c(n[t])&&(n[t]=[],this.onregister(t)),n[t].push(i),this}},Ls:{value:function(t,i){var n=this.Bs,s=n[t],i=s.indexOf(i);return-1!==i&&(1!==s.length?s.splice(i,1):(delete n[t],this.onunregister(t))),this}},Qs:{value:function(t,i){var n=l(i),s=this.Bs[t];n&&c(i.stop)&&J(i,this.As);for(var h=s.length;0<h&&(s[--h].call(this,i),!n||!i.Pt););return this}},As:{value:{stop:{value:function(){this.Pt=!0}}}},Ws:{value:function(t){var i=this.Bs;return i!==S&&o(i[t])}}},hn=E({qs:{value:["mousedown","mousemove","mouseup","mouseenter","mouseleave","mouseover","mouseout","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointercancel","pointerenter","pointerleave","pointerover","pointerout","gotpointercapture","lostpointercapture","click","dblclick","contextmenu","wheel","focus","blur","focusin","focusout","keydown","keyup","keypress"]},Gs:{value:{mousedown:function(t){this.Qs(this.qs[0],this.Hs(this.zs(t),""))},mousemove:function(t){this.Qs(this.qs[1],this.js(this.zs(t),""))},mouseup:function(t){this.Qs(this.qs[2],this.zs(t))},mouseenter:function(t){this.Qs(this.qs[3],this.Hs(this.zs(t),""))},mouseleave:function(t){this.Qs(this.qs[4],this.zs(t))},mouseover:function(t){this.Qs(this.qs[5],this.zs(t))},mouseout:function(t){this.Qs(this.qs[6],this.zs(t))},touchstart:function(t){for(var i,n=0,s=t.targetTouches,h=s.length;n<h;n++)i=s[n],this.Hs(this.Fs(i),i.identifier);this.Qs(this.qs[7],t)},touchmove:function(t){for(var i,n=0,s=t.targetTouches,h=s.length;n<h;n++)i=s[n],this.js(this.Fs(i),i.identifier);this.Qs(this.qs[8],t)},touchend:function(t){for(var i=0,n=t.targetTouches,s=n.length;i<s;i++)this.Fs(n[i]);this.Qs(this.qs[9],t)},touchcancel:function(t){for(var i=0,n=t.targetTouches,s=n.length;i<s;i++)this.Fs(n[i]);this.Qs(this.qs[10],t)},pointerdown:function(t){this.setPointerCapture(t.pointerId),this.Qs(this.qs[11],this.Hs(this.zs(t),t.pointerId))},pointermove:function(t){this.Qs(this.qs[12],this.js(this.zs(t),t.pointerId))},pointerup:function(t){this.releasePointerCapture(t.pointerId),this.Qs(this.qs[13],this.zs(t))},pointercancel:function(t){this.Qs(this.qs[14],this.zs(t))},pointerenter:function(t){this.Qs(this.qs[15],this.Hs(this.zs(t),t.pointerId))},pointerleave:function(t){this.Qs(this.qs[16],this.zs(t))},pointerover:function(t){this.Qs(this.qs[17],this.zs(t))},pointerout:function(t){this.Qs(this.qs[18],this.zs(t))},gotpointercapture:function(t){this.Qs(this.qs[19],this.zs(t))},lostpointercapture:function(t){this.Qs(this.qs[20],this.zs(t))},click:function(t){this.Qs(this.qs[21],this.zs(t))},dblclick:function(t){this.Qs(this.qs[22],this.zs(t))},contextmenu:function(t){this.Qs(this.qs[23],this.zs(t))},wheel:function(t){this.Qs(this.qs[24],this.zs(J(t,{zooming:{value:st(2,-(t.deltaY||t.deltaX)/100)}})))},focus:function(t){this.Qs(this.qs[25],t)},blur:function(t){this.Qs(this.qs[26],t)},focusin:function(t){this.Qs(this.qs[27],t)},focusout:function(t){this.Qs(this.qs[28],t)},keydown:function(t){this.Qs(this.qs[29],t)},keyup:function(t){this.Qs(this.qs[30],t)},keypress:function(t){this.Qs(this.qs[31],t)}}},Es:{value:{passive:!1}},Ns:{value:function(t){return t===this.qs[1]?this.qs[3]:t===this.qs[8]?this.qs[7]:t===this.qs[12]?this.qs[15]:t===this.qs[19]||t===this.qs[20]?this.qs[11]:""}},zs:{value:function(t){return J(t,{x:{value:t.offsetX},y:{value:t.offsetY}})}},Fs:{value:function(t){return J(t,{x:{value:t.pageX-this.Cs},y:{value:t.pageY-this.Xs}})}},Hs:{value:function(t,i){return this["__x"+i]=this["_x"+i]=t.x,this["__y"+i]=this["_y"+i]=t.y,t}},js:{value:function(t,i){return J(t,{moveX:{value:t.x-this["__x"+i]},moveY:{value:t.y-this["__y"+i]},movementX:{value:t.x-this["_x"+i]},movementY:{value:t.y-this["_y"+i]}}),this["_x"+i]=t.x,this["_y"+i]=t.y,t}},onregister:{value:function(t){this.addEventListener(t,this.Gs[t],this.Es)}},onunregister:{value:function(t){this.removeEventListener(t,this.Gs[t],this.Es)}}},X);function en(){}t(en,dt,E({on:{value:function(t,i){return f(i)?this.Ds(t,i):this}},off:{value:function(t,i){return this.Ws(t)?this.Ls(t,i):this}},trigger:{value:function(t,i){return this.Ws(t)?this.Qs(t,i):this}},onregister:Ht,onunregister:Ht},X));var un=li,rn=G;function on(t,i,n,s,h,e){var u,r,o;l(t)&&(i=t.width,n=t.height,s=t.pixelRatio,h=t.duration,e=t.interval,t=t.container),un.call(this,h,e),t=a(t)?z.querySelector(t):t,_t(t)||(c(this.Js=t.children[0])&&t.appendChild(this.Js=z.createElement("div")),u=this.Js,c(u.Ts)&&(u.Ts=[],u.tabIndex=0,J(u,hn),(r=u.style).position="relative",r.overflow="hidden",r.borderWidth=r.padding=r.margin="0px",r.webkitUserSelect=r.userSelect=r.touchAction=r.outline="none",u.Ys=!1,u.Us=function(){if(u.Ys)for(var t=u.Ts,i=t.length,n=0;n<i;n++)t[n].onvisibilitychange()}),this.width=i,this.height=n,(r=(n=this.Ks=z.createElement("canvas")).style).position="absolute",r.pointerEvents="none",r.top=r.left="0px",(r=u.Ts).length?u.insertBefore(n,r[r.length-1].Ks.nextSibling):u.appendChild(n),r.push(this),this.Xi=J(n.getContext("2d"),{V:Gt,Hi:{value:[]}}),this.V=s,o=this.Zs(),rn(function(){o.oncreate(),o.onresize(),o.onrender()}),1===r.length?(nn.observe(u),sn.observe(u),z.addEventListener("visibilitychange",u.Us,!1)):o.visible&&rn(function(){o.onvisibilitychange()}))}G===S&&(un=ai,rn=A),t(on,un,{container:{get:function(){return this.Js.parentNode}},wrapper:{get:function(){return this.Js}},canvas:{get:function(){return this.Ks}},context:{get:function(){return this.Xi}},width:{get:function(){return this.un},set:function(t){this.Js.style.width=_t(t)?"100%":t+"px"}},height:{get:function(){return this.rn},set:function(t){this.Js.style.height=_t(t)?"100%":t+"px"}},pixelRatio:{get:function(){return this.Xi.V},set:function(t){this.V=t,this.Zs(this.un,this.rn).onrender()}},visible:{get:function(){return this.Js.Ys&&"visible"===z.visibilityState}},cursor:{get:function(){return this.Js.style.cursor},set:function(t){this.Js.style.cursor=t}},resize:{value:function(t,i){return this.Zs(t,i).onresize(),this.onrender(),this}},render:{value:function(t){return t?(this.isRunning()||this.onrender(),this):this.resume()}},clearRect:{value:function(t,i,n,s){return this.Ui(!0).Xi.clearRect(t,i,n,s),this}},destroy:{value:function(){var t,i=this.Js,n=this.Ms,s=i.Ts;for(t in n)i.Ls(t,n[t]);for(t in this.stop(),i.removeChild(this.Ks),s.splice(s.indexOf(this),1),0===s.length&&(nn.unobserve(i),sn.unobserve(i),i.Ys=!1,z.removeEventListener("visibilitychange",i.Us,!1)),this.ondestroy(),this)delete this[t];return this}},on:{value:function(t,s){var i,n,h=this.Js,e=f(s);return-1!==h.qs.indexOf(t)?((i=this.Ms)===S&&(i=this.Ms={}),o(i[t])?(h.Ls(t,i[t]),delete i[t]):!e||(n=h.Ns(t))&&c(i[n])&&h.Ds(n,i[n]=r),e&&h.Ds(t,i[t]=s.bind(this))):this["on"+t]="update"===t?e?function(t,i,n){s.call(this,t,i,n),this.onrender()}:delete this.onupdate:e?s:r,this}},create:{value:function(t,i,n){var s;return a(t)&&(t=cn[t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()]),f(t)&&t!==on?(this.J(s=new t),l(i)?_t(n)?E(s,i):((i=R.call(arguments,1)).unshift(s),E.apply(S,i)):(1<arguments.length&&t.apply(s,R.call(arguments,1)),s)):dt}},onupdate:E({value:function(t,i,n){this.onrender()}},Gt),oncreate:Ht,onresize:Ht,onrender:Ht,onvisibilitychange:Ht,ondestroy:Ht,J:{value:function(t){t.Ci?t.context=this.Xi:un.prototype.J.call(this,t)}},U:{value:function(t){t.context===this.Xi?t.context=S:un.prototype.U.call(this,t)}},Zs:{value:function(t,i){var n,s=this.Ks,h=this.Xi,e=h.V=this.V||x.devicePixelRatio||1;return(_t(t)||_t(i))&&(n=this.Js.getBoundingClientRect(),_t(t)&&(t=n.right-n.left),_t(i)&&(i=n.bottom-n.top)),s.style.width=(this.un=(s.width=it(t*e))/e)+"px",s.style.height=(this.rn=(s.height=it(i*e))/e)+"px",h.Hi.length=0,u(h),this.Ui(!1)}},Ui:{value:function(t){var i=this.Xi,n=i.V,s=1!==n;return t?s?i.setTransform(n,0,0,n,0,0):i.resetTransform():s&&i.transform(n,0,0,n,0,0),gi(i),this}}});var Ht=N({__proto__:dt,Roundrect:wi,Imagedata:Si,Polyshape:Ei,Superellipse:$i,Smoothline:tn}),cn=N({__proto__:Ht,util:jt,ease:Bt,Rgb:hi,Hsl:ei,Lab:ri,Point:oi,Animation:un,Animator:vi,Group:pi,Shape:bi,Rect:mi,Grid:Pi,RoundRect:wi,Image:yi,Wave:Ii,ImageData:Si,Text:Oi,Arc:Ri,Sector:Ti,Ring:Ci,Ellipse:Xi,Isogon:Yi,Star:Di,Koch:Qi,Line:Ai,Link:Wi,Curve:qi,Triangle:Gi,Droplet:Hi,Heart:zi,Pin:ji,Path:Fi,PolyShape:Ei,Polyline:Ui,Polygon:Ki,Bezier:Zi,Rectangle:Mi,Circle:Vi,SuperEllipse:$i,SmoothLine:tn,Canvas:on,Event:en});return cn});
