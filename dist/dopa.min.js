// https://github.com/JarenChow/dopa v1.3.3 Created by JarenChow in 2021
!function(t,i){"object"==typeof exports&&"undefined"!=typeof module?module.exports=i():"function"==typeof define&&define.amd?define(i):(t="undefined"!=typeof globalThis?globalThis:t||self).dopa=i()}(this,function(){"use strict";function n(t){t.t=!0,t.i="low"}function s(t){t.h="10px sans-serif",t.u="start",t.o="alphabetic",t.l="ltr"}function u(t){t.v=1,t.g="source-over",t._="none",t.p=0,t.m="rgba(0, 0, 0, 0)",t.P=0,t.k=0,t.I="#000000",t.S="#000000",t.O=at,t.R=0,t.T=1,t.C="butt",t.X="miter",t.Y=10,n(t),s(t)}function r(){return this}function g(t){return t!=vt}function _(t){return t===S}function o(t){return t!==S}function a(t){return"string"==typeof t}function c(t){return"function"==typeof t}function f(t){return t!=vt&&"object"==typeof t}function t(t,i){c(i)&&i!==H&&(t.prototype=j(i.prototype,{constructor:{value:t}}));for(var n=2;n<arguments.length;n++)N(t.prototype,arguments[n])}function h(t,i,n,s,h){var e=i+" "+n+" "+s+" "+h,u=Xt.get(e);return _(u)&&(u=new bt(3755),Xt.set(e,u)),e=u.get(t),_(e)&&(Pi(Ct,i,n,s,h),e=Ct.measureText(t),u.set(t,N(e,{actualBoundingBoxWidth:{value:e.actualBoundingBoxLeft+e.actualBoundingBoxRight},actualBoundingBoxHeight:{value:e.actualBoundingBoxAscent+e.actualBoundingBoxDescent}}))),e}function i(t,i,n){var s=Yt.get(t);function h(){s.addEventListener("load",e),s.addEventListener("error",e)}function e(t){s.removeEventListener("load",e),s.removeEventListener("error",e),u("load"===t.type)}function u(t){i.call(n,s,t)}_(s)?(Yt.set(t,s=G.createElement("img")),h(),s.src=t):s.complete?s.width?u(!0):(h(),s.src=t):h()}function e(t,i,n,s){return Ct.createLinearGradient(t,i,n,s)}function l(t,i,n,s,h,e){return Ct.createRadialGradient(t,i,n,s,h,e)}function v(t,i,n){return Ct.createConicGradient(t,i,n)}function d(t,i){return Ct.createPattern(t,gt(i,"repeat"))}function p(t,i){return t%i+(t<0)*i}function m(t,i){return i<t?t:i}function b(t,i){return t<i?t:i}function P(t,i,n){return m(b(t,n),i)}function k(t){return lt<t||t<-lt}function y(t){return 0<(t=~~t)?t:1}function w(t,i,n){return dt(i)&&(i=t,t=0),t+V(rt()*(i-t+(n||0)))}function I(t,i,n){return t+(i-t)*n}var S,x=window,O=x.Map,R=x.Array.prototype.slice,T=x.Proxy,C=x.ResizeObserver,X=x.IntersectionObserver,Y=x.ImageData,A=x.encodeURI,B=x.parseFloat,D=x.parseInt,L=x.setTimeout,Q=x.setInterval,F=x.clearInterval,W=x.requestAnimationFrame,q=x.cancelAnimationFrame,G=document,H=Object,j=H.create,z=H.assign,E=H.freeze,N=H.defineProperties,J=H.prototype.toString,M=Math,U=M.min,K=M.max,Z=M.sign,V=M.floor,$=(M.ceil,M.round),tt=M.abs,it=M.pow,nt=M.sqrt,st=M.sin,ht=M.cos,et=M.tan,ut=M.atan2,rt=M.random,ot=M.PI,ct=2*ot,ft=ot/2,at=E([]),lt=it(2,-14),vt=null,dt=function(t){return t==vt},gt=function(t,i){return dt(t)?i:t},_t=function(t){switch(t){case 9:return 362880;case 8:return 40320;case 7:return 5040;case 6:return 720;case 5:return 120;case 4:return 24;case 3:return 6;case 2:return 2;case 1:case 0:return 1}return t*_t(t-1)},pt={A:{value:function(t){return _(this.B)?this.B=this.D=t:this.D=(t.F=this.D).L=t,this}},W:{value:function(t){var i=t.F,n=t.L;return i!==S?i.L=n:this.B=n,n!==S?n.F=i:this.D=i,t.F=t.L=S,this}}},mt=z({q:{value:function(t){return this.G++,this.A(t)}},H:{value:function(t){return this.G--,this.W(t)}},j:{value:function(){return this.B=this.D=S,this.G=0,this}}},pt),bt=(t(Pt,H,{length:{get:function(){return this.N.G}},get:{value:function(t){var i=this.J.get(t);if(i!==S){t=this.N;return i!==t.D&&(t.H(i),t.q(i)),i.M}}},set:{value:function(t,i){var n,s,h,e=this.J;_(e.get(t))&&(h=(n=this.N).G,s=this.U,h>=this.K&&0<h&&(h=n.B,n.H(h),e.delete(h.Z),this.U=h),s?s.M=i:s={M:i},s.Z=t,n.q(s),e.set(t,s))}},clear:{value:function(){this.N.j(),this.J.clear()}}}),Pt);function Pt(t){this.N=N({},mt).j(),this.J=new O,this.K=gt(t,10)}function kt(t){return 1.0009775171065494*(it(2,-10*t)-.0009765625)}function yt(t){return kt(- --t)*st((.075-t)*ct/.3)}function wt(t){return 1-kt(t)*st((t+.075)*ct/.3)}function It(t){return 1-Ot(1-t)}function St(t,i){Tt.width=t,Tt.height=i,n(Ct),s(Ct)}var xt=1.70158,Ot=function(t){var i=7.5625,n=2.75;return t<1/n?i*t*t:t<2/n?i*(t-=1.5/n)*t+.75:t<2.5/n?i*(t-=2.25/n)*t+.9375:i*(t-=2.625/n)*t+.984375},Rt=E({__proto__:vt,linear:function(t){return t},sinIn:function(t){return 1-ht(t*ft)},sinOut:function(t){return st(t*ft)},sinInOut:function(t){return(1-ht(t*ot))/2},quadIn:function(t){return t*t},quadOut:function(t){return t*(2-t)},quadInOut:function(t){return t<.5?2*t*t:1-2*--t*t},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return t<.5?4*t*t*t:1+4*--t*t*t},quartIn:function(t){return t*t*t*t},quartOut:function(t){return 1- --t*t*t*t},quartInOut:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},quintIn:function(t){return t*t*t*t*t},quintOut:function(t){return--t*t*t*t*t+1},quintInOut:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t},expIn:function(t){return kt(1-t)},expOut:function(t){return 1-kt(t)},expInOut:function(t){return((t*=2)<1?kt(1-t):2-kt(t-1))/2},circleIn:function(t){return 1-nt(1-t*t)},circleOut:function(t){return nt(1- --t*t)},circleInOut:function(t){return(t<.5?1-nt(1-4*t*t):nt(1-4*--t*t)+1)/2},backIn:function(t){return t*t*((t-1)*xt+t)},backOut:function(t){return--t*t*((t+1)*xt+t)+1},backInOut:function(t){return t<.5?2*t*t*(5.40316*t-xt):2*--t*t*((1+xt)*t*2+xt)+1},elasticIn:yt,elasticOut:wt,elasticInOut:function(t){return(t<.5?yt(2*t):1+wt(2*t-1))/2},bounceIn:It,bounceOut:Ot,bounceInOut:function(t){return(t<.5?It(2*t):1+Ot(2*t-1))/2}}),Tt=G.createElement("canvas"),Ct=Tt.getContext("2d");Ct.V=1,St();var Xt=new O,Yt=new bt(50),At=G.createElement("a"),Bt={writable:!0},Dt=z({value:r},Bt),Lt=z({value:function(){return!1}},Bt),Qt=E({__proto__:vt,noop:r,extends:t,measureText:h,measureTextWidth:function(t,i){return h(t,i,Ct.u,Ct.o,Ct.l).width},loadImage:i,createLinearGradient:e,createRadialGradient:l,createConicGradient:v,createPattern:d,normalizeNumber:p,limitNumber:P,isNotAroundZero:k,saveURL:function(t,i){At.href=t,At.download=i,At.click()},randInt:w,lerp:I});function Ft(t){this.alpha=gt(t,255)}t(Ft,H,{alpha:{get:function(){return this.v},set:function(t){this.v=P(t,0,255)}},fromString:{value:function(t){return this.alpha=255*(_(t)?1:B(t)),this}},toString:{value:function(){return $(this.v)/255+""}}});function Wt(t){return.04045<(t/=255)?it((t+.055)/1.055,2.4):t/12.92}function qt(t){return 255*(.0031308<t?1.055*it(t,1/2.4)-.055:12.92*t)}function Gt(t){return 6/29<t?t*t*t:18/29*6/29*(t-4/29)}function Ht(t){return(t<16?"0":"")+t.toString(16)}function jt(t,i,n,s){s.red=I(t.red,i.red,n),s.green=I(t.green,i.green,n),s.blue=I(t.blue,i.blue,n)}var zt=function(t,i,n,s,h){4===arguments.length?jt(t,i,255/(s.alpha=n),s):5===arguments.length&&zt(t,i,$(255*(1-(i.red-s.red)/(t.red-n.red)))||$(255*(1-(i.green-s.green)/(t.green-n.green)))||$(255*(1-(i.blue-s.blue)/(t.blue-n.blue)))||128,h)};function Et(t,i,n,s){Ft.call(this,s),this.red=gt(t,0),this.green=gt(i,0),this.blue=gt(n,0)}function Nt(t,i,n,s){Ft.call(this,s),this.hue=gt(t,0),this.saturation=gt(i,1),this.lightness=gt(n,.5)}N(Et,{mixing:{value:jt},gammaMixing:{value:function(t,i,n,s){jt(t,i,n,s);var h=s.red+s.green+s.blue;0!==h&&(t=it(t.red+t.green+t.blue,.43),i=it(i.red+i.green+i.blue,.43),n=it(t+(i-t)*n,1/.43),s.red*=n/h,s.green*=n/h,s.blue*=n/h)}},extract:{value:zt}}),t(Et,Ft,{red:{get:function(){return this.$},set:function(t){this.$=P(t,0,255)}},green:{get:function(){return this.tt},set:function(t){this.tt=P(t,0,255)}},blue:{get:function(){return this.it},set:function(t){this.it=P(t,0,255)}},fromString:{value:function(t){t=/rgba?\((\d{1,3}), ?(\d{1,3}), ?(\d{1,3}),? ?([0,1]\.?\d*)?\)/.exec(t);return this.red=B(t[1]),this.green=B(t[2]),this.blue=B(t[3]),Ft.prototype.fromString.call(this,t[4])}},fromHex:{value:function(t){t=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?/.exec(t);return this.red=D(t[1],16),this.green=D(t[2],16),this.blue=D(t[3],16),this.alpha=_(t[4])?255:D(t[4],16),this}},fromHsl:{value:function(t){var i,n,s=p(t.hue,360),h=t.saturation,e=t.lightness,u=(1-tt(2*e-1))*h,h=u*(1-tt(s/60%2-1)),e=e-u/2,h=s<60?(i=u,n=h,0):s<120?(i=h,n=u,0):s<180?(i=0,n=u,h):s<240?(i=0,n=h,u):s<300?(i=h,n=0,u):(i=u,n=0,h);return this.red=255*(i+e),this.green=255*(n+e),this.blue=255*(h+e),this.alpha=t.alpha,this}},fromLab:{value:function(t){var i=(t.lightness+16)/116,n=.96422*Gt(i+t.a/500),s=Gt(i),i=.82521*Gt(i-t.b/200);return this.red=3.1338561*n-1.6168667*s-.4906146*i,this.green=-.9787684*n+1.9161415*s+.033454*i,this.blue=.0719453*n-.2289914*s+1.4052427*i,this.alpha=t.alpha,this.companding()}},inverseCompanding:{value:function(){return this.$=Wt(this.$),this.tt=Wt(this.tt),this.it=Wt(this.it),this}},companding:{value:function(){return this.red=qt(this.$),this.green=qt(this.tt),this.blue=qt(this.it),this}},toString:{value:function(t){return"rgb"+(t?"a":"")+"("+$(this.$)+", "+$(this.tt)+", "+$(this.it)+(t?", "+Ft.prototype.toString.call(this):"")+")"}},toHex:{value:function(t){return"#"+Ht($(this.$))+Ht($(this.tt))+Ht($(this.it))+(t?Ht($(this.v)):"")}}}),t(Nt,Ft,{hue:{get:function(){return this.nt},set:function(t){this.nt=t}},saturation:{get:function(){return this.st},set:function(t){this.st=P(t,0,1)}},lightness:{get:function(){return this.ht},set:function(t){this.ht=P(t,0,1)}},fromString:{value:function(t){t=/hsla?\((\d{1,3}\.?\d*), ?(\d{1,3}\.?\d*)%, ?(\d{1,3}\.?\d*)%,? ?([0,1]\.?\d*)?\)/.exec(t);return this.hue=B(t[1]),this.saturation=B(t[2])/100,this.lightness=B(t[3])/100,Ft.prototype.fromString.call(this,t[4])}},fromRgb:{value:function(t){var i=t.red/255,n=t.green/255,s=t.blue/255,h=K(i,n,s),e=U(i,n,s),u=0,r=h-e,e=h+e;return r&&(u=i===h?(n-s)/r+6*(n<s):n===h?(s-i)/r+2:(i-n)/r+4,u*=60,r/=e<1?e:2-e),this.hue=u,this.saturation=r,this.lightness=e/2,this.alpha=t.alpha,this}},toString:{value:function(t){return"hsl"+(t?"a":"")+"("+this.nt+", "+100*this.st+"%, "+100*this.ht+"%"+(t?", "+Ft.prototype.toString.call(this):"")+")"}}});function Jt(t){return 6/29*6/29*6/29<t?it(t,1/3):t/(18/29*6/29)+4/29}function Mt(t,i,n,s){Ft.call(this,s),this.lightness=gt(t,0),this.a=gt(i,0),this.b=gt(n,0)}function Ut(t,i){this.x=gt(t,0),this.y=gt(i,0)}function Kt(t,i){this.duration=t,this.interval=i}function Zt(t,i){Kt.call(this,t,i),this.et=S,this.ut=this.rt.bind(this),this.ot()}function Vt(t,i){Zt.call(this,t,gt(i,16))}function $t(t,i){Zt.call(this,t,i)}t(Mt,Ft,{lightness:{get:function(){return this.ht},set:function(t){this.ht=P(t,0,100)}},a:{get:function(){return this.ct},set:function(t){this.ct=P(t,-128,127)}},b:{get:function(){return this.ft},set:function(t){this.ft=P(t,-128,127)}},fromString:{value:function(t){t=/laba?\((\d{1,3}\.?\d*), ?(-?\d{1,3}\.?\d*), ?(-?\d{1,3}\.?\d*),? ?([0,1]\.?\d*)?\)/.exec(t);return this.lightness=B(t[1]),this.a=B(t[2]),this.b=B(t[3]),Ft.prototype.fromString.call(this,t[4])}},fromRgb:{value:function(t){var i=Wt(t.red),n=Wt(t.green),s=Wt(t.blue),h=Jt(.2225045*i+.7168786*n+.0606169*s);return this.lightness=116*h-16,this.a=500*(Jt((.4360747*i+.3850649*n+.1430804*s)/.96422)-h),this.b=200*(h-Jt((.0139322*i+.0971045*n+.7141733*s)/.82521)),this.alpha=t.alpha,this}},toString:{value:function(t){return"lab"+(t?"a":"")+"("+this.ht+", "+this.ct+", "+this.ft+(t?", "+Ft.prototype.toString.call(this):"")+")"}}}),t(Ut,H,{x:{get:function(){return this.at},set:function(t){this.at=t}},y:{get:function(){return this.lt},set:function(t){this.lt=t}},set:{value:function(t,i){return this.x=t,this.y=i,this}},skew:{value:function(t,i){i=this.y+this.x*et(i);return this.x+=this.y*et(t),this.y=i,this}},scale:{value:function(t,i){return this.x*=t,this.y*=i,this}},rotate:{value:function(t){var i=ht(t),n=st(t),t=this.x*n+this.y*i;return this.x=this.x*i-this.y*n,this.y=t,this}},translate:{value:function(t,i){return this.x+=t,this.y+=i,this}},transform:{value:function(t,i,n,s,h,e){f(t)&&(i=t.b,n=t.c,s=t.d,h=t.e,e=t.f,t=t.a);e=this.x*i+this.y*s+e;return this.x=this.x*t+this.y*n+h,this.y=e,this}},unit:{value:function(){var t=nt(this.x*this.x+this.y*this.y);return t?(this.x/=t,this.y/=t):this.x=this.y=0,this}},inverse:{value:function(){return this.x=-this.x,this.y=-this.y,this}},vertical:{value:function(){var t=this.x;return this.x=-this.y,this.y=t,this}},add:{value:function(t){return this.x+=t.x,this.y+=t.y,this}},subtract:{value:function(t){return this.x-=t.x,this.y-=t.y,this}},multiply:{value:function(t){var i=this.x*t.y+this.y*t.x;return this.x=this.x*t.x-this.y*t.y,this.y=i,this}},divide:{value:function(t){var i=t.x*t.x+t.y*t.y,n=(this.y*t.x-this.x*t.y)/i;return this.x=(this.x*t.x+this.y*t.y)/i,this.y=n,this}},dot:{value:function(t){return this.x*t.x+this.y*t.y}},cross:{value:function(t){return this.x*t.y-this.y*t.x}}}),t(Kt,H,{duration:{get:function(){return this.vt},set:function(t){this.vt=lt<t?t:lt}},interval:{get:function(){return this.dt},set:function(t){this.dt=0<t?t:0}},onstart:Dt,onresume:Dt,onupdate:Dt,onpause:Dt,onstop:Dt,onfinish:Dt,start:{value:function(){return this.ot().onstart(),this.resume()}},resume:{value:function(){return this.gt()&&this._t().onresume(),this}},pause:{value:function(){return this.isRunning()&&this.bt().onpause(),this}},stop:{value:function(t){return this.isRunning()&&this.Pt(t).onstop(),this}},isRunning:Lt,isStopped:Lt,isPaused:Lt,kt:z({value:0},Bt),ot:{value:function(){return this.yt=0,this.wt=this.dt,this}},gt:Lt,_t:Dt,bt:Dt,Pt:Dt,It:Dt,rt:Dt,St:{value:function(t){return t<this.vt?this.dt?t>this.wt&&this.xt(t):this.Ot(t):(this.kt=t-this.vt,this.bt().Ot(this.vt).onfinish(!0)),this}},xt:{value:function(t){var i=this.wt,n=this.dt,t=t-i;return this.Rt(i).wt+=((t/n>>0)+Z(t))*n,this}},Ot:{value:function(t){return this.Rt(this.wt=t)}},Rt:Dt}),t(Zt,Kt,pt,{isRunning:{value:function(){return o(this.et)}},isStopped:{value:function(){return!this.isRunning()&&0===this.Tt}},isPaused:{value:function(){return!this.isRunning()&&0!==this.Tt}},add:{value:function(){for(var t=0;t<arguments.length;t++)this.q(arguments[t]);return this}},remove:{value:function(){for(var t=0;t<arguments.length;t++)this.H(arguments[t]);return this}},ot:{value:function(){return this.Ct=this.Tt=this.Xt=this.Yt=0,Kt.prototype.ot.call(this)}},gt:{value:function(){return!this.isRunning()}},bt:{value:function(){return this.Pt().Tt=this.Yt,this}},It:{value:function(t){return this.Yt=t,0===this.Ct?this.Ct=t:(0!==this.Tt&&(this.Xt+=t-this.Tt,this.Tt=0),this.St(t-this.Xt-this.Ct))}},Rt:{value:function(t){var i=this.B,n=t-this.yt;for(this.yt=t;i!==S;)i=i.It(n).L;return this.onupdate(t/this.vt,t,n),this}},q:{value:function(t){t.At&&(t.animation=this)}},H:{value:function(t){t.animation===this&&(t.animation=S)}}}),t(Vt,Zt,{rt:{value:function(){this.It(performance.now())}},_t:{value:function(){return this.rt(),this.et=Q(this.ut,this.dt),this}},Pt:{value:function(){return this.et=F(this.et),this}}}),t($t,Zt,{rt:{value:function(t){this.et=W(this.ut),this.It(t)}},_t:{value:function(){return this.et=W(this.ut),this}},Pt:{value:function(){return this.et=q(this.et),this}}});var ti={At:{value:!0}};function ii(t,i){Kt.call(this,t,i)}t(ii,Kt,ti,{animation:{get:function(){return this.Bt},set:function(t){var i=this.Bt;i!==t&&(i!=vt&&i.W(this),g(i=this.Bt=t)&&i.A(this))}},onreverse:Dt,reverse:{value:function(){if(this.isStopped())return this;this.yt=P(this.yt,0,this.vt);var t=this.isForward(),i=this.dt;return this.rt=t?this.Dt:this.Lt,i&&(this.wt+=t?i:-i),this.onreverse(),this.resume()}},isRunning:{value:function(){return this.rt!==r&&this.It!==r}},isStopped:{value:function(){return this.rt===r}},isPaused:{value:function(){return this.rt!==r&&this.It===r}},isForward:{value:function(){return this.rt===this.Lt}},ot:{value:function(){return this.rt=this.Lt,Kt.prototype.ot.call(this)}},gt:{value:function(){return!this.isStopped()}},_t:{value:function(){var t=this.isForward(),i=this.yt+=t?this.kt:-this.kt,n=this.Bt,i=t?this.vt-i:i;return n.yt+i>n.vt&&(n.vt=n.yt+i,n.resume()),this.It=this.rt,this.kt=0,this}},bt:{value:function(){return this.It=r,this}},Pt:{value:function(t){return this.It=(this.yt=t?this.vt:0)?this.Lt:this.Dt,this.rt=r,this}},Lt:{value:function(t){return this.St(this.yt+=t)}},Dt:{value:function(t){return this.Qt(this.yt-=t)}},Qt:{value:function(t){return 0<t?this.dt?t<this.wt&&this.xt(t):this.Ot(t):(this.kt=-t,this.bt().Ot(0).onfinish(!1)),this}},Rt:{value:function(t){return this.onupdate(t/this.vt,t),this}}});var ni=function(t){t.ct=t.Ft=t.Wt=t.qt=1,t.ft=t.Gt=t.Ht=t.jt=0,si(t)},si=function(t){t.zt=t.Et=t.Nt=t.Jt=0},hi=function(t){u(t),t.Mt=t.Ut=t.Kt=1,t.Zt=t.Vt=t.$t=t.ti=t.ii=t.ni=0};function ei(t,i){Ut.call(this),this.originX=gt(t,0),this.originY=gt(i,0),hi(this),ni(this)}t(ei,Ut,{originX:{get:function(){return this.si},set:function(t){this.si=t}},originY:{get:function(){return this.hi},set:function(t){this.hi=t}},parent:{get:function(){return this.ei},set:function(t){for(var i=t;i!=vt&&i!==this;)i=i.ei;i!==this&&(this.ei=t)}},scaleX:{get:function(){return this.Mt},set:function(t){this.Mt=t}},scaleY:{get:function(){return this.Ut},set:function(t){this.Ut=t}},rotation:{get:function(){return this.Zt},set:function(t){this.Zt!==t&&(this.Zt=t,this.Kt=ht(t),this.Vt=st(t))}},skewX:{get:function(){return this.$t},set:function(t){this.$t!==t&&(this.$t=t,this.ti=et(t))}},skewY:{get:function(){return this.ii},set:function(t){this.ii!==t&&(this.ii=t,this.ni=et(t))}},alpha:{get:function(){return this.v},set:function(t){this.ui=t}},compositeOperation:{get:function(){return this.g},set:function(t){this.ri=t}},filter:{get:function(){return this._},set:function(t){this.oi=t}},shadowBlur:{get:function(){return this.p},set:function(t){this.ci=t}},shadowColor:{get:function(){return this.m},set:function(t){this.fi=t}},shadowOffsetX:{get:function(){return this.P},set:function(t){this.ai=t}},shadowOffsetY:{get:function(){return this.k},set:function(t){this.li=t}},fillStyle:{get:function(){return this.I},set:function(t){this.vi=t}},strokeStyle:{get:function(){return this.S},set:function(t){this.di=t}},lineDash:{get:function(){return this.O},set:function(t){this.gi=t}},lineDashOffset:{get:function(){return this.R},set:function(t){this._i=t}},lineWidth:{get:function(){return this.T},set:function(t){this.pi=t}},lineCap:{get:function(){return this.C},set:function(t){this.mi=t}},lineJoin:{get:function(){return this.X},set:function(t){this.bi=t}},miterLimit:{get:function(){return this.Y},set:function(t){this.Pi=t}},smoothingEnabled:{get:function(){return this.t},set:function(t){this.ki=t}},smoothingQuality:{get:function(){return this.i},set:function(t){this.yi=t}},font:{get:function(){return this.h},set:function(t){this.wi=t}},align:{get:function(){return this.u},set:function(t){this.Ii=t}},baseline:{get:function(){return this.o},set:function(t){this.Si=t}},direction:{get:function(){return this.l},set:function(t){this.xi=t}},drag:{value:function(t,i){var n,s=this.ei;return s!=vt&&(n=s.Gt*t+s.qt*i,t=s.Ft*t+s.jt*i,i=n),this.x+=t,this.y+=i,this}},zoom:{value:function(t,i,n){var s,h=this.ei;return h!=vt&&(s=h.Gt*i+h.qt*n+h.Jt,i=h.Ft*i+h.jt*n+h.Et,n=s),this.x=I(i,this.x,t),this.y=I(n,this.y,t),this.scaleX*=t,this.scaleY*=t,this}},updateTransform:{value:function(){return this.Oi(),this}},updateStyle:{value:function(){var t,i,n,s,h,e,u,r=this;do{var o=r.ui,c=r.ri,f=r.oi,a=r.ci,l=r.fi,v=r.ai,d=r.li;o!=vt&&_(t)&&(t=o),c!=vt&&_(i)&&(i=c),f!=vt&&_(n)&&(n=f),a!=vt&&_(s)&&(s=a),l!=vt&&_(h)&&(h=l),v!=vt&&_(e)&&(e=v),d!=vt&&_(u)&&(u=d)}while(g(r=r.ei));return t!==S&&this.v!==t&&(this.v=t),i!==S&&this.g!==i&&(this.g=i),n!==S&&this._!==n&&(this._=n),s!==S&&this.p!==s&&(this.p=s),h!==S&&this.m!==h&&(this.m=h),e!==S&&this.P!==e&&(this.P=e),u!==S&&this.k!==u&&(this.k=u),this}},updateFillStyle:{value:function(){var t,i=this;do{var n=i.vi;n!=vt&&_(t)&&(t=n)}while(g(i=i.ei));return t!==S&&this.I!==t&&(this.I=t),this}},updateStrokeStyle:{value:function(){var t,i,n,s,h,e,u,r=this;do{var o=r.di,c=r.gi,f=r._i,a=r.pi,l=r.mi,v=r.bi,d=r.Pi;o!=vt&&_(t)&&(t=o),c!=vt&&_(i)&&(i=c),f!=vt&&_(n)&&(n=f),a!=vt&&_(s)&&(s=a),l!=vt&&_(h)&&(h=l),v!=vt&&_(e)&&(e=v),d!=vt&&_(u)&&(u=d)}while(g(r=r.ei));return t!==S&&this.S!==t&&(this.S=t),i!==S&&this.O!==i&&(this.O=i),n!==S&&this.R!==n&&(this.R=n),s!==S&&this.T!==s&&(this.T=s),h!==S&&this.C!==h&&(this.C=h),e!==S&&this.X!==e&&(this.X=e),u!==S&&this.Y!==u&&(this.Y=u),this}},updateImageStyle:{value:function(){var t,i,n=this;do{var s=n.ki,h=n.yi;s!=vt&&_(t)&&(t=s),h!=vt&&_(i)&&(i=h)}while(g(n=n.ei));return t!==S&&this.t!==t&&(this.t=t),i!==S&&this.i!==i&&(this.i=i),this}},updateTextStyle:{value:function(){var t,i,n,s,h=this;do{var e=h.wi,u=h.Ii,r=h.Si,o=h.xi;e!=vt&&_(t)&&(t=e),u!=vt&&_(i)&&(i=u),r!=vt&&_(n)&&(n=r),o!=vt&&_(s)&&(s=o)}while(g(h=h.ei));return t!==S&&this.h!==t&&(this.h=t),i!==S&&this.u!==i&&(this.u=i),n!==S&&this.o!==n&&(this.o=n),s!==S&&this.l!==s&&(this.l=s),this}},a:{get:function(){return this.ct}},b:{get:function(){return this.ft}},c:{get:function(){return this.Ht}},d:{get:function(){return this.Wt}},e:{get:function(){return this.zt}},f:{get:function(){return this.Nt}},Oi:{value:function(){var t,i=this.ei,n=this.ti,s=this.ni,h=this.Mt,e=this.Ut,u=this.Kt,r=this.Vt,o=this.si,c=this.hi,f=u*h+n*r*h,a=r*h+s*u*h,h=-r*e+n*u*e,n=u*e-s*r*e,u=this.at+o*(1-f)-c*h,s=this.lt+c*(1-n)-o*a;return i!=vt&&(i.updateTransform(),r=i.ct,e=i.ft,t=f*r+a*(c=i.Ht),a=f*e+a*(o=i.Wt),f=t,t=h*r+n*c,n=h*e+n*o,h=t,t=u*r+s*c+i.zt,s=u*e+s*o+i.Nt,u=t),!(this.zt===u&&this.Nt===s&&this.ct===f&&this.Wt===n&&this.ft===a&&this.Ht===h||!k(t=f*n-a*h))&&(this.ct=f,this.ft=a,this.Ht=h,this.Wt=n,this.zt=u,this.Nt=s,this.Ft=n/t,this.Gt=-a/t,this.jt=-h/t,this.qt=f/t,this.Et=(h*s-n*u)/t,this.Jt=(a*u-f*s)/t,!0)}}});var ui={Ri:{value:!0}},ri=z({context:{get:function(){return this.Ti},set:function(t){this.Ti=t}}},ui);function oi(t,i,n,s){ei.call(this,n,s),this.startX=gt(t,0),this.startY=gt(i,0)}t(oi,ei,ri,{startX:{get:function(){return this.Ci},set:function(t){this.Ci=t}},startY:{get:function(){return this.Xi},set:function(t){this.Xi=t}},fill:{value:function(t){return this.Bi().Ai().Yi(t)}},stroke:{value:function(){return this.Li().Ai().Di()}},clip:{value:function(t){return this.Ai().Fi().Qi(t)}},restore:{value:function(t){for(var i,n=this.Ti,s=n.Wi;s.length&&(i=s.pop(),n.ct=i.ct,n.ft=i.ft,n.Ht=i.Ht,n.Wt=i.Wt,n.zt=i.zt,n.Nt=i.Nt,n.Ft=i.Ft,n.Gt=i.Gt,n.jt=i.jt,n.qt=i.qt,n.Et=i.Et,n.Jt=i.Jt,n.v=i.v,n.g=i.g,n._=i._,n.p=i.p,n.m=i.m,n.P=i.P,n.k=i.k,n.I=i.I,n.S=i.S,n.O=i.O,n.R=i.R,n.T=i.T,n.C=i.C,n.X=i.X,n.Y=i.Y,n.h=i.h,n.u=i.u,n.o=i.o,n.l=i.l,n.t=i.t,n.i=i.i,n.restore(),--t););return this}},clearRect:{value:function(t,i,n,s,h){return this.clip(h).Ti.clearRect(this.Ci+t,this.Xi+i,n,s),this.restore()}},rebuildPath:{value:function(){this.buildPath(this.context,this.startX,this.startY)}},buildPath:z({value:function(t,i,n){t.beginPath()}},Bt),isPointInPath:{value:function(t,i){return this.qi(!0,t,i)}},isPointInStroke:{value:function(t,i){return this.qi(!1,t,i)}},isQuickInPath:{value:function(t,i){return this.Gi(!0,t,i)}},isQuickInStroke:{value:function(t,i){return this.Gi(!1,t,i)}},createLinearGradient:{value:function(t,i,n,s){return e(t+this.Ci,i+this.Xi,n+this.Ci,s+this.Xi)}},createRadialGradient:{value:function(t,i,n,s,h,e){return l(t+this.Ci,i+this.Xi,n,s+this.Ci,h+this.Xi,e)}},createConicGradient:{value:function(t,i,n){return v(t,i+this.Ci,n+this.Xi)}},Yi:{value:function(t){return this.Ti.fill(t),this}},Di:{value:function(){return this.Ti.stroke(),this}},Bi:{value:function(){return this.ji().Hi()}},Li:{value:function(){return this.ji().zi()}},ji:{value:function(){var t=this.updateStyle().Ti,i=t.V,n=this.v,s=this.g,h=this._,e=this.p,u=this.m,r=this.P,o=this.k;return t.v!==n&&(t.globalAlpha=t.v=n),t.g!==s&&(t.globalCompositeOperation=t.g=s),t._!==h&&(t.filter=t._=h),t.p!==e&&(t.shadowBlur=(t.p=e)*i),t.m!==u&&(t.shadowColor=t.m=u),t.P!==r&&(t.shadowOffsetX=(t.P=r)*i),t.k!==o&&(t.shadowOffsetY=(t.k=o)*i),this}},Hi:{value:function(){var t=this.updateFillStyle().Ti,i=this.I;return t.I!==i&&(t.fillStyle=t.I=i),this}},zi:{value:function(){var t=this.updateStrokeStyle().Ti,i=this.S,n=this.O,s=this.R,h=this.T,e=this.C,u=this.X,r=this.Y;return t.S!==i&&(t.strokeStyle=t.S=i),t.O!==n&&t.setLineDash(t.O=n),t.R!==s&&(t.lineDashOffset=t.R=s),t.T!==h&&(t.lineWidth=t.T=h),t.C!==e&&(t.lineCap=t.C=e),t.X!==u&&(t.lineJoin=t.X=u),t.Y!==r&&(t.miterLimit=t.Y=r),this}},Qi:{value:function(t){return this.Ti.clip(t),this}},Fi:{value:function(){var t=this.Ti;return t.Wi.push({ct:t.ct,ft:t.ft,Ht:t.Ht,Wt:t.Wt,zt:t.zt,Nt:t.Nt,Ft:t.Ft,Gt:t.Gt,jt:t.jt,qt:t.qt,Et:t.Et,Jt:t.Jt,v:t.v,g:t.g,_:t._,p:t.p,m:t.m,P:t.P,k:t.k,I:t.I,S:t.S,O:t.O,R:t.R,T:t.T,C:t.C,X:t.X,Y:t.Y,h:t.h,u:t.u,o:t.o,l:t.l,t:t.t,i:t.i}),t.save(),this}},Ei:{value:function(){var t,i,n,s,h,e,u=this.updateTransform().Ti,r=this.ct,o=this.ft,c=this.Ht,f=this.Wt,a=this.zt,l=this.Nt;return u.ct!==r||u.Wt!==f||u.ft!==o||u.Ht!==c?(t=u.Ft,i=u.Gt,n=u.jt,s=u.qt,h=u.Et,e=u.Jt,u.transform(r*t+o*n,r*i+o*s,c*t+f*n,c*i+f*s,a*t+l*n+h,a*i+l*s+e),u.ct=r,u.ft=o,u.Ht=c,u.Wt=f,u.zt=a,u.Nt=l,u.Ft=this.Ft,u.Gt=this.Gt,u.jt=this.jt,u.qt=this.qt,u.Et=this.Et,u.Jt=this.Jt):u.zt===a&&u.Nt===l||(u.translate(a*u.Ft+l*u.jt+u.Et,a*u.Gt+l*u.qt+u.Jt),u.zt=a,u.Nt=l,u.Et=this.Et,u.Jt=this.Jt),this}},Ni:{value:function(){var t=this.Ti,i=t.Ft,n=t.Gt,s=t.jt,h=t.qt,e=t.Et,u=t.Jt;return 1!==i||1!==h||0!==n||0!==s?(t.transform(i,n,s,h,e,u),ni(t)):0===e&&0===u||(t.translate(e,u),si(t)),this}},Ai:{value:function(){return this.Ei().rebuildPath(),this}},qi:{value:function(t,i,n){var s=this.Ti,h=this.Ft,e=this.Gt,u=this.jt,r=this.qt,o=this.Et,c=this.Jt,f=s.ct,a=s.ft,l=s.Ht,v=s.Wt,d=s.V,v=((h*a+e*v)*i+(u*a+r*v)*n+o*a+c*v+s.Nt)*d;return i=((h*f+e*l)*i+(u*f+r*l)*n+o*f+c*l+s.zt)*d,n=v,t?this.Ji(i,n):this.Mi(i,n)}},Ji:{value:function(t,i){return this.rebuildPath(),this.Ti.isPointInPath(t,i)}},Mi:{value:function(t,i){return this.rebuildPath(),this.Ti.isPointInStroke(t,i)}},Gi:{value:function(t,i,n){var s=this.Gt*i+this.qt*n+this.Jt;return i=this.Ft*i+this.jt*n+this.Et,n=s,t?this.Ui(i,n):this.Ki(i,n)}},Ui:{value:function(t,i){var n=this.Ti.V;return this.Ni().Ji(t*n,i*n)}},Ki:{value:function(t,i){var n=this.Ti.V;return this.Ni().Mi(t*n,i*n)}}});var ci=function(t,i){return t>=this.left&&i>=this.top&&t<=this.right&&i<=this.bottom},fi={left:{get:function(){return this.Ci+this.Zi+this.Vi}},top:{get:function(){return this.Xi+this.$i+this.tn}},right:{get:function(){return this.Ci+this.Zi+this.nn}},bottom:{get:function(){return this.Xi+this.$i+this.sn}},Ui:{value:ci},Ki:{value:function(t,i){var n=this.left,s=this.top,h=this.right,e=this.bottom,u=this.T;return(0===$((t-n)/u)||0===$((t-h)/u))&&s<=i&&i<=e||(0===$((i-s)/u)||0===$((i-e)/u))&&n<=t&&t<=h}}},ai=z({Vi:{get:function(){return U(this.width,0)}},tn:{get:function(){return U(this.height,0)}},nn:{get:function(){return K(this.width,0)}},sn:{get:function(){return K(this.height,0)}}},fi),li={Zi:{get:function(){return 0}},$i:{get:function(){return 0}}};function vi(t,i,n,s,h,e){oi.call(this,t,i,h,e),this.width=n,this.height=s}function di(t,i,n,s,h,e,u){vi.call(this,t,i,n,s,e,u),this.spacing=h}t(vi,oi,ai,li,{width:{get:function(){return this.hn},set:function(t){this.hn=t}},height:{get:function(){return this.en},set:function(t){this.en=t}},rebuildPath:{value:function(){this.buildPath(this.context,this.startX,this.startY,this.width,this.height)}},buildPath:{value:function(t,i,n,s,h){t.beginPath(),t.rect(i,n,s,h)}}}),t(di,vi,{spacing:{get:function(){return this.un},set:function(t){this.un=y(t)}},rebuildPath:{value:function(){this.buildPath(this.context,this.left,this.top,this.right,this.bottom,this.spacing)}},buildPath:{value:function(t,i,n,s,h,e){var u;for(t.beginPath(),u=i+e;u<s;u+=e)t.moveTo(u,n),t.lineTo(u,h);for(u=n+e;u<h;u+=e)t.moveTo(i,u),t.lineTo(s,u)}}});M={radius:{get:function(){return this.rn},set:function(t){this.rn=t}}};function gi(t,i,n,s,h,e,u){vi.call(this,t,i,n,s,e,u),this.radius=gt(h,0)}t(gi,vi,M,{rebuildPath:{value:function(){this.buildPath(this.context,this.left,this.top,this.right,this.bottom,this.radius)}},buildPath:{value:function(t,i,n,s,h,e){t.beginPath(),t.moveTo(i+e,n),t.arcTo(s,n,s,h,e),t.arcTo(s,h,i,h,e),t.arcTo(i,h,i,n,e),t.arcTo(i,n,s,n,e)}}});function _i(t,i,n){t.t!==i&&(t.imageSmoothingEnabled=t.t=i),t.i!==n&&(t.imageSmoothingQuality=t.i=n)}function pi(t,i,n,s,h,e,u,r,o,c,f){vi.call(this,t,i,e,u,s,h),a(n)?this.src=n:this.image=n,this.cropX=r,this.cropY=o,this.cropWidth=c,this.cropHeight=f}function mi(t,i,n,s,h,e,u,r,o,c,f){vi.call(this,t,i,n,s,c,f),this.amplitude=gt(h,10),this.method=gt(e,st),this.period=gt(u,ct),this.phase=gt(r,0),this.step=o}t(pi,vi,{width:{get:function(){return this.cn?this.fn:this.hn},set:function(t){this.hn=t}},height:{get:function(){return this.an?this.ln:this.en},set:function(t){this.en=t}},cropX:{get:function(){return this.vn},set:function(t){this.vn=t}},cropY:{get:function(){return this.dn},set:function(t){this.dn=t}},cropWidth:{get:function(){return this.gn},set:function(t){this.gn=t}},cropHeight:{get:function(){return this._n},set:function(t){this._n=t}},src:{get:function(){return this.pn},set:function(t){i(this.pn=A(t),this.mn,this)}},image:{get:function(){return this.bn},set:function(t){dt(t)?this.bn=this.pn=this.fn=this.ln=S:this.bn!==t&&(this.bn=t,this.pn=t.src,this.fn=t.width,this.ln=t.height)}},complete:{get:function(){return this.bn&&this.bn.src===this.pn}},onload:Dt,toImageData:{value:function(){var t=this.width,i=this.height;return St(t,i),_i(Ct,this.t,this.i),this.Pn(Ct,0,0),Ct.getImageData(0,0,t,i)}},createPattern:{value:function(t){t=d(this.bn,t);return t.setTransform({a:this.ct,b:this.ft,c:this.Ht,d:this.Wt,e:this.zt+this.Ci*this.ct+this.Xi*this.Ht,f:this.Nt+this.Ci*this.ft+this.Xi*this.Wt}),t}},fill:{value:function(){return this.kn().Ei().Pn(this.Ti,this.Ci,this.Xi)}},mn:{value:function(t,i){-1!==t.src.indexOf(this.pn)&&(this.image=t,this.onload(i))}},cn:{get:function(){return dt(this.hn)}},an:{get:function(){return dt(this.en)}},yn:{get:function(){return dt(this.vn)||dt(this.dn)||dt(this.gn)||dt(this._n)}},Pn:{value:function(t,i,n){var s,h=this.bn;return h!=vt&&(this.yn?this.cn&&this.an?t.drawImage(h,i,n):t.drawImage(h,i,n,this.width,this.height):(s=t.V,t.drawImage(h,this.vn*s,this.dn*s,this.gn*s,this._n*s,i,n,this.width,this.height))),this}},kn:{value:function(){return this.ji().wn()}},wn:{value:function(){return _i(this.updateImageStyle().Ti,this.t,this.i),this}}}),t(mi,vi,{amplitude:{get:function(){return this.In},set:function(t){this.In=t}},method:{get:function(){return this.Sn},set:function(t){this.Sn=t}},period:{get:function(){return this.xn},set:function(t){this.xn=t}},phase:{get:function(){return this.On},set:function(t){this.On=t}},step:{get:function(){return this.Rn},set:function(t){this.Rn=y(t)}},rebuildPath:{value:function(){this.buildPath(this.context,this.left,this.top,this.right,this.bottom,this.amplitude,this.method,this.period,this.phase,this.step)}},buildPath:{value:function(t,i,n,s,h,e,u,r,o,c){t.beginPath();for(var f=i;f<s;f+=c)t.lineTo(f,n+e*u((f-i)/(s-i)*r+o));t.lineTo(s,n+e*u(r+o)),t.lineTo(s,h),t.lineTo(i,h),t.closePath()}}});pt={data:{get:function(){return this.Tn}}};function bi(t,i,n,s,h,e,u,r){Ut.call(this),this.getImageData(t,i,n,s),this.dirtyX=h,this.dirtyY=e,this.dirtyWidth=u,this.dirtyHeight=r}t(bi,Ut,ri,pt,{dirtyX:{get:function(){return this.Cn},set:function(t){this.Cn=t}},dirtyY:{get:function(){return this.Xn},set:function(t){this.Xn=t}},dirtyWidth:{get:function(){return this.Yn},set:function(t){this.Yn=t}},dirtyHeight:{get:function(){return this.An},set:function(t){this.An=t}},imageData:{get:function(){return this.Bn},set:function(t){dt(t)?this.Bn=this.Tn=this.hn=this.en=S:this.Bn!==t&&(this.Bn=t,this.Tn=t.data,this.hn=t.width,this.en=t.height)}},width:{get:function(){return this.hn}},height:{get:function(){return this.en}},left:{get:function(){return this.at}},top:{get:function(){return this.lt}},right:{get:function(){return this.at+this.hn}},bottom:{get:function(){return this.lt+this.en}},getImageData:{value:function(t,i,n,s){return n!=vt&&(o(n.data)?this.imageData=dt(s)?n.Bn||n:new Y(n.data,s):dt(t)||dt(i)||dt(this.Ti)?this.imageData=Ct.createImageData(n,s):this.imageData=this.Ti.getImageData(t,i,n,s),this.x=t,this.y=i),this}},toDataURL:{value:function(t,i){return this.Dn(),Tt.toDataURL(t,i)}},toBlob:{value:function(t,i,n){return this.Dn(),Tt.toBlob(t,i,n),this}},fill:{value:function(){return this.Ln(this.Ti,this.at,this.lt)}},isPointInPath:{value:ci},getPixelIndex:{value:function(t,i){return 4*(t-this.at+(i-this.lt)*this.hn)}},forEach:{value:function(t,i,n,s,h,e){h=b(h,this.right-(n=m(n,this.left))),e=b(e,this.bottom-(s=m(s,this.top)));for(var u,r=this.Tn,o=this.getPixelIndex(n,s),c=4*(this.hn-h),f=n+h,a=s+e,l=s;l<a;l++){for(u=n;u<f;u++)t.call(i,r,o,u,l),o+=4;o+=c}return this}},mosaic:{value:function(t,i,n,s,h){if(1===(t=y(t)))return this;s=b(s,this.right-(i=m(i,this.left))),h=b(h,this.bottom-(n=m(n,this.top)));for(var e,f=this.Tn,u=this.getPixelIndex(i,n),a=this.hn,r=V(h/t),o=V(s/t),c=s%t,l=h%t,v=0;v<r;v++){for(e=0;e<o;e++)d(u,t,t),u+=4*t;d(u,c,t),u+=4*(c+(t-1)*a)}for(e=0;e<o;e++)d(u,t,l),u+=4*t;function d(t,i,n){for(var s,h=t+4*(w(i)+w(n)*a),e=f[h],u=f[h+1],r=f[h+2],o=f[h+3],c=0;c<n;c++){for(s=0;s<i;s++)f[t]=e,f[t+1]=u,f[t+2]=r,f[t+3]=o,t+=4;t+=4*(a-i)}}return(1<c||1<l)&&d(u,c,l),this}},transparencyDisposal:{value:function(n,t,i,s,h){return n=255*gt(n,1),this.forEach(function(t,i){t[i]>=n&&t[i+1]>=n&&t[i+2]>=n&&(t[i+3]=0)},this,t,i,s,h)}},reverseColor:{value:function(t,i,n,s){return this.forEach(function(t,i){t[i]=255-t[i],t[i+1]=255-t[i+1],t[i+2]=255-t[i+2]},this,t,i,n,s)}},greyProcessing:{value:function(t,i,n,s){return this.forEach(function(t,i){t[i]=t[i+1]=t[i+2]=.299*t[i]+.587*t[i+1]+.114*t[i+2]},this,t,i,n,s)}},blackWhite:{value:function(n,t,i,s,h){return n=dt(n)?127:254*n,this.forEach(function(t,i){t[i]=t[i+1]=t[i+2]=(t[i]+t[i+1]+t[i+2])/3>n?255:0},this,t,i,s,h)}},relief:{value:function(){for(var t,i=this.Tn,n=this.hn,s=n-1,h=this.en-1,e=4*n,u=0,r=0;r<h;r++){for(t=0;t<s;t++)i[u]=2*i[u]-i[u+4]-i[u+e]+127.5,i[u+1]=2*i[u+1]-i[u+5]-i[u+1+e]+127.5,i[u+2]=2*i[u+2]-i[u+6]-i[u+2+e]+127.5,u+=4;u+=4}for(u=4*s,r=0;r<h;r++)i[u]=i[u-4],i[u+1]=i[u-3],i[u+2]=i[u-2],u+=e;for(u=h*e,t=0;t<n;t++)i[u]=i[u-e],i[u+1]=i[u+1-e],i[u+2]=i[u+2-e],u+=4;return this}},sunGlass:{value:function(){for(var t,i=this.Tn,n=this.hn,s=n-1,h=this.en-1,e=4*n,u=0,r=0;r<h;r++){for(t=0;t<s;t++)i[u]=2*i[u]-1.5*i[u+4],i[u+1]=2*i[u+1]-1.5*i[u+5],i[u+2]=2*i[u+2]-1.5*i[u+6],u+=4;u+=4}for(u=4*s,r=0;r<h;r++)i[u]=i[u-4],i[u+1]=i[u-3],i[u+2]=i[u-2],u+=e;for(u=h*e,t=0;t<n;t++)i[u]=i[u-e],i[u+1]=i[u+1-e],i[u+2]=i[u+2-e],u+=4;return this}},frostedGlass:{value:function(u){return 1===(u=y(u))?this:this.forEach(function(t,i,n,s){var h=w(u),e=w(u);n+h>=this.right||s+e>=this.bottom||(e=i+4*(h+e*this.hn),t[i]=t[e],t[i+1]=t[e+1],t[i+2]=t[e+2],t[i+3]=t[e+3])},this)}},Qn:{get:function(){return dt(this.Cn)||dt(this.Xn)||dt(this.Yn)||dt(this.An)}},Ln:{value:function(t,i,n){var s=this.Bn;return s!=vt&&(this.Qn?t.putImageData(s,i,n):t.putImageData(s,i,n,this.Cn,this.Xn,this.Yn,this.An)),this}},Dn:{value:function(){this.Qn?St(this.hn,this.en):St(this.Yn,this.An),this.Ln(Ct,0,0)}}});var Pi=function(t,i,n,s,h){t.h!==i&&(t.font=t.h=i),t.u!==n&&(t.textAlign=t.u=n),t.o!==s&&(t.textBaseline=t.o=s),t.l!==h&&(t.direction=t.l=h)},ri={Ai:{value:oi.prototype.Ei}};function ki(t,i,n,s,h,e){oi.call(this,t,i,h,e),this.text=gt(n,""),this.maxWidth=s}t(ki,oi,fi,li,ri,{text:{get:function(){return this.Fn},set:function(t){this.Fn=t}},maxWidth:{get:function(){return this.Wn},set:function(t){this.Wn=t}},metrics:{get:function(){return h(this.Fn,this.h,this.u,this.o,this.l)}},width:{get:function(){return this.hn*this.qn},set:function(t){var i=/(.* )?(\d+(?=px))(.*)/.exec(this.h);this.wi=(i[1]||"")+V(D(i[2])*t/this.hn)+i[3]}},actualBoundingBoxWidth:{get:function(){return this.metrics.actualBoundingBoxWidth*this.qn}},actualBoundingBoxHeight:{get:function(){return this.metrics.actualBoundingBoxHeight}},Vi:{get:function(){return-this.metrics.actualBoundingBoxLeft*this.qn}},tn:{get:function(){return-this.metrics.actualBoundingBoxAscent}},nn:{get:function(){return this.metrics.actualBoundingBoxRight*this.qn}},sn:{get:function(){return this.metrics.actualBoundingBoxDescent}},hn:{get:function(){return this.metrics.width}},qn:{get:function(){var t,i=this.Wn;return i!=vt&&i<(t=this.hn)?i/t:1}},qi:{value:ki.prototype.Gi},Yi:{value:function(){return this.Ti.fillText(this.Fn,this.Ci,this.Xi,this.Wn),this}},Di:{value:function(){return this.Ti.strokeText(this.Fn,this.Ci,this.Xi,this.Wn),this}},Qi:{value:function(){var t=this.Ti;return t.beginPath(),t.rect(this.left,this.top,this.actualBoundingBoxWidth,this.actualBoundingBoxHeight),t.clip(),this}},Bi:{value:function(){return oi.prototype.Bi.call(this).Gn()}},Li:{value:function(){return oi.prototype.Li.call(this).Gn()}},Gn:{value:function(){return Pi(this.updateTextStyle().Ti,this.h,this.u,this.o,this.l),this}}});ci={centerX:{get:function(){return this.Ci+this.Zi}},centerY:{get:function(){return this.Xi+this.$i}},Ui:{value:function(t,i){var n=this.centerX,s=this.centerY,h=this.radius;return(n-t)*(n-t)+(s-i)*(s-i)<=h*h}},Ki:{value:function(t,i){var n=this.centerX,s=this.centerY;return 0===$((nt((n-t)*(n-t)+(s-i)*(s-i))-this.radius)/this.T)}}};function yi(t,i,n,s,h,e,u,r){oi.call(this,t,i,u,r),this.radius=gt(n,0),this.startAngle=gt(s,0),this.endAngle=gt(h,ct),this.anticlockwise=gt(e,!1)}function wi(t,i,n,s,h,e,u,r){yi.call(this,t,i,n,s,h,e,u,r)}t(yi,oi,ci,li,M,{startAngle:{get:function(){return this.Hn},set:function(t){this.Hn=t}},endAngle:{get:function(){return this.jn},set:function(t){this.jn=t}},anticlockwise:{get:function(){return this.zn},set:function(t){this.zn=t}},rebuildPath:{value:function(){this.buildPath(this.context,this.startX,this.startY,this.radius,this.startAngle,this.endAngle,this.anticlockwise)}},buildPath:{value:function(t,i,n,s,h,e,u){t.beginPath(),t.arc(i,n,s,h,e,u)}}}),t(wi,yi,{buildPath:{value:function(t,i,n,s,h,e,u){yi.prototype.buildPath.call(this,t,i,n,s,h,e,u),t.lineTo(i,n),t.closePath()}}});fi={innerRadius:{get:function(){return this.En},set:function(t){this.En=t}}};function Ii(t,i,n,s,h,e,u,r,o){yi.call(this,t,i,n,h,e,u,r,o),this.innerRadius=gt(s,0)}function Si(t,i,n,s,h,e,u,r,o){yi.call(this,t,i,n,h,e,u,r,o),this.radiusY=gt(s,0)}function xi(t,i,n,s,h,e){oi.call(this,t,i,h,e),this.sides=gt(s,3)}function Oi(t,i,n,s,h,e){xi.call(this,t,i,n,s,h,e)}t(Ii,yi,fi,{outerRadius:{get:function(){return this.rn},set:function(t){this.rn=t}},rebuildPath:{value:function(){this.buildPath(this.context,this.startX,this.startY,this.outerRadius,this.innerRadius,this.startAngle,this.endAngle,this.anticlockwise)}},buildPath:{value:function(t,i,n,s,h,e,u,r){yi.prototype.buildPath.call(this,t,i,n,s,e,u,r),t.arc(i,n,h,u,e,!r),t.closePath()}}}),t(Si,yi,{radiusX:{get:function(){return this.rn},set:function(t){this.rn=t}},radiusY:{get:function(){return this.Nn},set:function(t){this.Nn=t}},rebuildPath:{value:function(){this.buildPath(this.context,this.startX,this.startY,this.radiusX,this.radiusY,this.startAngle,this.endAngle,this.anticlockwise)}},buildPath:{value:function(t,i,n,s,h,e,u,r){t.beginPath(),t.ellipse(i,n,s,h,0,e,u,r)}},Ui:{value:function(t,i){var n=this.Ci,s=this.Xi,h=this.rn,e=this.Nn;return(t-n)*(t-n)*e/h+(i-s)*(i-s)*h/e<=h*e}},Ki:{value:function(t,i){var n=this.Ci,s=this.Xi,h=this.rn,e=this.Nn;return 0===$((nt((t-n)*(t-n)*e/h+(i-s)*(i-s)*h/e)-nt(h*e))/this.T)}}}),t(xi,oi,ci,li,M,{sides:{get:function(){return this.Jn},set:function(t){this.Jn!==t&&(this.Jn=t,this.Mn=ht(ct/t),this.Un=st(ct/t))}},rebuildPath:{value:function(){this.buildPath(this.context,this.startX,this.startY,this.radius,this.sides,this.Mn,this.Un)}},buildPath:{value:function(t,i,n,s,h,e,u){var r,o=s,c=0;t.beginPath(),t.moveTo(i+o,n+c);for(var f=0;f<h-1;f++)r=o*u+c*e,o=o*e-c*u,c=r,t.lineTo(i+o,n+c);t.closePath()}}}),t(Oi,xi,fi,{sides:{get:function(){return this.Jn},set:function(t){this.Jn!==t&&(this.Jn=t,this.Mn=ht(ct/t),this.Un=st(ct/t),this.Kn=ht(ot/t),this.Zn=st(ot/t))}},rebuildPath:{value:function(){this.buildPath(this.context,this.startX,this.startY,this.radius,this.sides,this.Mn,this.Un,this.Kn,this.Zn,dt(this.En)?this.rn/(4<this.Jn?this.Kn/this.Mn:3):this.En)}},buildPath:{value:function(t,i,n,s,h,e,u,r,o,c){var f,a=s*e,l=s*u,v=c*r,d=c*o;t.beginPath();for(var g=0;g<2*h;g++)1&g?(t.lineTo(i+a,n+l),f=a*u+l*e,a=a*e-l*u,l=f):(t.lineTo(i+v,n+d),f=v*u+d*e,v=v*e-d*u,d=f);t.closePath()}}});var Ri=nt(3),Ti=function(t,i,n,s,h,e){var u=(s-i)/3,r=(h-n)/3,o=i+u,c=n+r,f=o+(u+r*Ri)/2,a=c+(r-u*Ri)/2,u=i+2*u,r=n+2*r;--e?(Ti(t,i,n,o,c,e),Ti(t,o,c,f,a,e),Ti(t,f,a,u,r,e),Ti(t,u,r,s,h,e)):(t.lineTo(o,c),t.lineTo(f,a),t.lineTo(u,r),t.lineTo(s,h))};function Ci(t,i,n,s,h,e){xi.call(this,t,i,n,s,h,e)}function Xi(t,i,n,s,h,e){oi.call(this,t,i,h,e),this.endX=gt(n,0),this.endY=gt(s,0)}function Yi(t,i,n,s,h,e,u,r){Xi.call(this,t,i,n,s,u,r),this.controlX=h,this.controlY=e}function Ai(t,i,n,s,h,e,u,r,o,c){Yi.call(this,t,i,n,s,h,e,o,c),this.controlX2=u,this.controlY2=r}t(Ci,xi,{sides:{get:function(){return this.Jn},set:function(t){this.Jn=y(t)}},buildPath:{value:function(t,i,n,s,h){var e,u=Ri/2,r=-.5*s,o=s*u,c=i+s;t.beginPath(),Ti(t,c,n,e=i+r,s=n+o,h),Ti(t,e,s,e=i+(-.5*r-o*u),s=n+(r*u+-.5*o),h),Ti(t,e,s,c,n,h),t.closePath()}}}),t(Xi,oi,{endX:{get:function(){return this.Vn},set:function(t){this.Vn=t}},endY:{get:function(){return this.$n},set:function(t){this.$n=t}},length:{get:function(){var t=this.Vn-this.Ci,i=this.$n-this.Xi;return nt(t*t+i*i)}},angle:{get:function(){return ut(this.$n-this.Xi,this.Vn-this.Ci)}},rebuildPath:{value:function(){this.buildPath(this.context,this.startX,this.startY,this.endX,this.endY)}},buildPath:{value:function(t,i,n,s,h){t.beginPath(),t.moveTo(i,n),t.lineTo(s,h)}}}),t(Yi,Xi,{controlX:{get:function(){return this.ts},set:function(t){this.ts=t}},controlY:{get:function(){return this.ns},set:function(t){this.ns=t}},startAngle:{get:function(){return this.Hn}},endAngle:{get:function(){return this.jn}},rebuildPath:{value:function(){this.buildPath(this.context,this.startX,this.startY,this.endX,this.endY,this.controlX,this.controlY,this.ss,this)}},buildPath:{value:function(t,i,n,s,h,e,u,r,o){var c,f,a,l,v,d,g,_,p,m=s-i,b=h-n,P=i-e,k=n-u;t.beginPath(),!r&&m*k-b*P>>0?(p=-(g=-(a=i*i+n*n)*(f=b+k)+(l=s*s+h*h)*k+(v=e*e+u*u)*b)/(d=i*f-n*(c=m+P)+s*u-e*h)/2,r=-(_=a*c-l*P-v*m)/d/2,P=c*k<f*P,t.arc(p,r,nt((g*g+_*_-4*d*(a*(e*h-s*u)+l*(i*u-e*n)+v*(s*n-i*h)))/(4*d*d)),d=ut(n-r,i-p),p=ut(h-r,s-p),P),P?(d-=ft,p-=ft):(d+=ft,p+=ft)):(t.moveTo(i,n),t.lineTo(s,h),d=p=ut(b,m)),o.Hn=d,o.jn=p}},ss:{get:function(){return dt(this.ts)||dt(this.ns)}}}),t(Ai,Yi,{controlX1:{get:function(){return this.ts},set:function(t){this.ts=t}},controlY1:{get:function(){return this.ns},set:function(t){this.ns=t}},controlX2:{get:function(){return this.hs},set:function(t){this.hs=t}},controlY2:{get:function(){return this.es},set:function(t){this.es=t}},startAngle:{get:function(){return this.us?this.angle:ut(this.ns-this.Xi,this.ts-this.Ci)}},endAngle:{get:function(){return this.us?this.angle:this.rs?ut(this.$n-this.ns,this.Vn-this.ts):ut(this.$n-this.es,this.Vn-this.hs)}},centerAngle:{get:function(){return this.rs?this.angle:ut(this.es-this.ns,this.hs-this.ts)}},rebuildPath:{value:function(){this.buildPath(this.context,this.startX,this.startY,this.endX,this.endY,this.controlX1,this.controlY1,this.controlX2,this.controlY2,this.us,this.rs)}},buildPath:{value:function(t,i,n,s,h,e,u,r,o,c,f){t.beginPath(),t.moveTo(i,n),c?t.lineTo(s,h):f?t.quadraticCurveTo(e,u,s,h):t.bezierCurveTo(e,u,r,o,s,h)}},us:{get:function(){return this.ss}},rs:{get:function(){return dt(this.hs)||dt(this.es)}}});fi={length:{get:function(){return this.G},set:function(t){this.G=t}}};function Bi(t,i,n,s,h,e){oi.call(this,t,i,h,e),this.length=gt(n,10),this.angle=gt(s,ot/3)}function Di(t,i,n,s,h,e){Bi.call(this,t,i,n,s,h,e)}function Li(t,i,n,s,h,e){Bi.call(this,t,i,n,s,h,e)}function Qi(t,i,n,s,h,e){Bi.call(this,t,i,n,s,h,e)}function Fi(t,i,n,s,h){oi.call(this,t,i,s,h),this.path=n}function Wi(t,i,n,s,h,e){oi.call(this,t,i,h,e),this.points=dt(n)?[]:n,this.length=gt(s,0),this.os=[],this.Tn=[]}function qi(t,i,n,s,h,e){Wi.call(this,t,i,n,s,h,e)}function Gi(t,i,n,s,h,e){qi.call(this,t,i,n,s,h,e)}t(Bi,oi,fi,{angle:{get:function(){return this.cs},set:function(t){return this.cs!==(t=p(t,ot))&&(this.cs=t,this.fs=et(t/2)),this}},rebuildPath:{value:function(){this.buildPath(this.context,this.startX,this.startY,this.length,this.angle,this.fs)}},buildPath:{value:function(t,i,n,s,h,e){var u=i-s,e=-s*e;t.beginPath(),t.moveTo(u,n+e),t.lineTo(i,n),t.lineTo(u,n-e),t.closePath()}}}),t(Di,Bi,{buildPath:{value:function(t,i,n,s,h,e){var u=i-s,r=i-s*(1-4*e/3),e=-s*e;t.beginPath(),t.moveTo(i,n),t.bezierCurveTo(r,n+3*e/2,u,n+e,u,n),t.bezierCurveTo(u,n-e,r,n-3*e/2,i,n),t.closePath()}}}),t(Li,Bi,{buildPath:{value:function(t,i,n,s,h,e){var u=i-2*s/3,r=i-5*s/3,e=-s*e;t.beginPath(),t.moveTo(i,n),t.bezierCurveTo(u,n+2*e,r,n+e/2,i-s,n),t.bezierCurveTo(r,n-e/2,u,n-2*e,i,n),t.closePath()}}}),t(Qi,Bi,{buildPath:{value:function(t,i,n,s,h,e){var u=i-s,s=s*e,e=s*e;t.beginPath(),t.moveTo(u,n-s),t.lineTo(i,n),t.lineTo(u,n+s),t.arc(u-e,n,nt(s*s+e*e),(ot-h)/2,(h-ot)/2,!1)}}}),t(Fi,oi,ri,{path:{get:function(){var t=new Path2D;return t.addPath(this.ls,{e:-this.Ci,f:-this.Xi}),t},set:function(t){return this.ls=new Path2D,this.addPath(t)}},addPath:{value:function(t){switch(J.call(t)){case"[object String]":t&&this.ls.addPath(new Path2D(t),{e:this.Ci,f:this.Xi});break;case"[object Path2D]":this.ls.addPath(t,{e:this.Ci,f:this.Xi});break;case"[object Object]":this.ls.addPath(t.ls,{a:t.ct,b:t.ft,c:t.Ht,d:t.Wt,e:t.zt+this.Ci,f:t.Nt+this.Xi})}return this}},moveTo:{value:function(t,i){return this.ls.moveTo(this.Ci+t,this.Xi+i),this}},lineTo:{value:function(t,i){return this.ls.lineTo(this.Ci+t,this.Xi+i),this}},arcTo:{value:function(t,i,n,s,h){var e=this.Ci,u=this.Xi;return this.ls.arcTo(e+t,u+i,e+n,u+s,h),this}},quadraticCurveTo:{value:function(t,i,n,s){var h=this.Ci,e=this.Xi;return this.ls.quadraticCurveTo(h+t,e+i,h+n,e+s),this}},bezierCurveTo:{value:function(t,i,n,s,h,e){var u=this.Ci,r=this.Xi;return this.ls.bezierCurveTo(u+t,r+i,u+n,r+s,u+h,r+e),this}},rect:{value:function(t,i,n,s){return this.ls.rect(this.Ci+t,this.Xi+i,n,s),this}},arc:{value:function(t,i,n,s,h,e){return this.ls.arc(this.Ci+t,this.Xi+i,n,s,h,e),this}},ellipse:{value:function(t,i,n,s,h,e,u,r){return this.ls.ellipse(this.Ci+t,this.Xi+i,n,s,h,e,u,r),this}},closePath:{value:function(){return this.ls.closePath(),this}},Yi:{value:function(t){return this.Ti.fill(this.ls,t),this}},Di:{value:function(){return this.Ti.stroke(this.ls),this}},Qi:{value:function(t){return this.Ti.clip(this.ls,t),this}},Ji:{value:function(t,i){return this.Ti.isPointInPath(this.ls,t,i)}},Mi:{value:function(t,i){return this.Ti.isPointInStroke(this.ls,t,i)}}}),t(Wi,oi,fi,pt,{points:{get:function(){return this.vs},set:function(t){this.vs=new T(t,{set:function(t,i,n){return t[i]=n,this.ds=!0}.bind(this)}),this.ds=!0}},built:{get:function(){return this.os}},append:{value:function(t,i){return this.vs.push(t,i),this.gs(),this}},insert:{value:function(t,i,n){return this.vs.splice(2*t,0,i,n),this.gs(),this}},delete:{value:function(t){return this.vs.splice(2*t,2),this._s(),this}},update:{value:function(t,i,n){return this.vs[2*t]=i,this.vs[2*t+1]=n,this}},peek:{value:function(t,i){return this.vs[2*t+i]}},clear:{value:function(){return this.vs.length=0,this.ps(),this}},rebuildPath:{value:function(){this.buildPath(this.context,this.built,this.length)}},buildPath:z({value:function(t,i,n){t.beginPath()}},Bt),rebuildPoints:{value:function(){this.buildPoints(this.startX,this.startY,this.points,this.length,this.built)}},buildPoints:Dt,updateTransform:{value:function(){if(this.Oi()){var t,i,n,s=this.os,h=this.Tn,e=this.G,u=this.ct,r=this.ft,o=this.Ht,c=this.Wt,f=this.zt,a=this.Nt;if(1!==u||1!==c||0!==r||0!==o)for(t=0;t<e;t+=2)i=s[t],n=s[t+1],h[t]=i*u+n*o+f,h[t+1]=i*r+n*c+a;else if(0!==f||0!==a)for(t=0;t<e;t+=2)h[t]=s[t]+f,h[t+1]=s[t+1]+a;else for(t=0;t<e;t+=2)h[t]=s[t],h[t+1]=s[t+1]}return this}},Oi:{value:function(){var t=this.ds,i=this.bs!==this.G&&(this.bs=this.os.length=this.Tn.length=this.G,!0),n=(this.Ps!==this.Ci||this.ks!==this.Xi)&&(this.Ps=this.Ci,this.ks=this.Xi,!0),s=this.ys(),h=oi.prototype.Oi.call(this);return t||i||n||s?(t&&(this.ds=!1),this.rebuildPoints(),!0):h}},gs:Dt,_s:Dt,ps:Dt,ys:Lt}),t(qi,Wi,{buildPath:{value:function(t,i,n){t.beginPath(),t.moveTo(i[0],i[1]);for(var s=2;s<n;s+=2)t.lineTo(i[s],i[s+1])}},buildPoints:{value:function(t,i,n,s,h){for(var e=0;e<s;e+=2)h[e]=t+n[e],h[e+1]=i+n[e+1]}}}),t(Gi,qi,{buildPath:{value:function(t,i,n){qi.prototype.buildPath.call(this,t,i,n),t.closePath()}}});pt={ps:{value:function(){this.G=0}}},Lt=z({gs:{value:function(){this.G+=2}},_s:{value:function(){this.G-=2}}},pt);function Hi(t,i,n,s,h,e){qi.call(this,t,i,n,s,h,e)}function ji(t,i,n,s,h,e){Gi.call(this,t,i,n,s,h,e)}function zi(t,i,n,s,h,e){qi.call(this,t,i,n,gt(s,200),h,e)}t(Hi,qi,Lt),t(ji,Gi,Lt),t(zi,qi,{buildPoints:{value:function(t,i,n,s,h){for(var e,u,r,o,c,f,a,l=n.length/2-1,v=0;v<s;v+=2){for(c=v/(s-2),e=r=u=0;e<n.length;e+=2)a=l,o=(0===(f=o=e/2)||f===a?1:1===f||a-f==1?a:_t(a)/_t(a-f)/_t(f))*it(c,o)*it(1-c,l-o),u+=n[e]*o,r+=n[e+1]*o;h[v]=t+u,h[v+1]=i+r}}}});Lt={Zi:{get:function(){return this.vs[0]}},$i:{get:function(){return this.vs[1]}}};function Ei(t,i,n,s,h,e){Gi.call(this,t,i,n,gt(s,8),h,e)}function Ni(t,i,n,s,h,e){Gi.call(this,t,i,n,gt(s,200),h,e)}function Ji(t,i,n,s,h,e,u){Gi.call(this,t,i,n,gt(s,200),e,u),this.exponent=h}function Mi(t,i,n,s,h,e,u){Wi.call(this,t,i,n,s,e,u),this.tension=h}t(Ei,Gi,ai,Lt,{width:{get:function(){return this.vs[2]-this.vs[0]}},height:{get:function(){return this.vs[3]-this.vs[1]}},buildPoints:{value:function(t,i,n,s,h){for(var e=t+n[0],u=i+n[1],r=t+n[2],o=i+n[3],c=r-e,f=o-u,a=s/4,l=a+a,v=s-a,d=0;d<a;d+=2)h[d]=d/a*c,h[d+1]=u,h[d+a]=r,h[d+a+1]=d/a*f,h[d+l+1]=o,h[d+v]=e;for(d=0;d<a;d+=2)h[d+l]=r-h[d],h[d]+=e,h[d+v+1]=o-h[d+a+1],h[d+a+1]+=u}}}),t(Ni,Gi,ci,Lt,{radius:{get:function(){var t=this.vs,i=t[2]-t[0],t=t[3]-t[1];return nt(i*i+t*t)}},buildPoints:{value:function(t,i,n,s,h){var e,u,r=ht(ct/s*2),o=st(ct/s*2),c=n[0],f=n[1],a=n[2]-c,l=n[3]-f;for(c+=t,f+=i,u=0;u<s;u+=2)h[u]=c+a,h[u+1]=f+l,e=l*r+a*o,a=a*r-l*o,l=e}}}),t(Ji,Gi,{exponent:{get:function(){return this.ws},set:function(t){this.ws=gt(t,3)}},rebuildPoints:{value:function(){this.buildPoints(this.startX,this.startY,this.points,this.length,this.exponent,this.built)}},buildPoints:{value:function(t,i,n,s,h,e){var u,r,o=s/4,c=n[0],f=n[1],a=n[2]-c,l=n[3]-f,v=nt(a*a+l*l),d=a/v,g=l/v;for(c+=t,f+=i,u=0;u<o;u+=2)a=v*it(ht(r=u/o*ft),2/h),l=v*it(st(r),2/h),e[u]=a*d-l*g,e[u+1]=l*d+a*g;for(u=o;u<s;u+=2)e[u]=-e[u-o+1],e[u+1]=e[u-o],e[u-o]+=c,e[u-o+1]+=f;for(u=3*o;u<s;u+=2)e[u]+=c,e[u+1]+=f}},ys:{value:function(){return this.Is!==this.ws&&(this.Is=this.ws,!0)}}}),t(Mi,Wi,pt,{tension:{get:function(){return this.Ss},set:function(t){this.Ss=gt(t,1)}},rebuildPoints:{value:function(){this.buildPoints(this.startX,this.startY,this.points,this.length,this.tension,this.built)}},buildPoints:{value:function(t,i,n,s,h,e){for(var u,r,o,c,f,a,l,v=0,d=0,g=e[0]=t+n[0],_=e[1]=i+n[1],p=n.length,m=2;m<p&&(l=3*m-4)<s;m+=2)o=t+n[m],c=i+n[m+1],f=t+n[m+2],a=i+n[m+3],f==f?(u=(f-g)/6*h,r=(a-_)/6*h):u=r=0,e[l]=g+v,e[l+1]=_+d,e[l+2]=o-u,e[l+3]=c-r,v=u,d=r,g=e[l+4]=o,_=e[l+5]=c}},buildPath:{value:function(t,i,n){t.beginPath(),t.moveTo(i[0],i[1]);for(var s=2;s<n;s+=6)t.bezierCurveTo(i[s],i[s+1],i[s+2],i[s+3],i[s+4],i[s+5])}},gs:{value:function(){0!==this.G?this.G+=6:this.G=2}},_s:{value:function(){2<this.G?this.G-=6:this.G=0}},ys:{value:function(){return this.xs!==this.Ss&&(this.xs=this.Ss,!0)}}});var Ui=new C(function(t){t.forEach(function(t){var i,n,s,h=t.target,e=h.Os,u=e.length,r=h.getBoundingClientRect(),o=r.left%1,t=r.top%1,c=r.right-(h.Rs=r.left),f=r.bottom-(h.Ts=r.top);for(h.style.left=(o<.5?-o:1-o)+"px",h.style.top=(t<.5?-t:1-t)+"px",i=0;i<u;i++)s=(n=e[i]).Ti.V,(1<=tt((n.hn-c)*s)||1<=tt((n.en-f)*s))&&n.resize(c,f)})}),Ki=new X(function(t){t.forEach(function(t){var i,n=t.target,s=t.isIntersecting,h=n.Os,e=h.length;if(n.Cs!==s)for(n.Cs=s,i=0;i<e;i++)h[i].onvisibilitychange(s)})}),X={Xs:{value:function(t,i){var n=this.Ys;return _(n)&&(n=this.Ys={}),_(n[t])&&(n[t]=[],this.onregister(t)),n[t].push(i),this}},As:{value:function(t,i){var n=this.Ys,s=n[t],i=s.indexOf(i);return-1!==i&&(1!==s.length?s.splice(i,1):(delete n[t],this.onunregister(t))),this}},Bs:{value:function(t,i){N(i,this.Ds);for(var n=this.Ys[t],s=n.length;0<s&&(n[--s].call(this,i),!i.Pt););return this}},Ds:{value:{stop:{value:function(){this.Pt=!0}},Pt:z({value:!1},Bt)}},Ls:{value:function(t){var i=this.Ys;return i!==S&&o(i[t])}}},Zi=z({Qs:{value:["mousedown","mousemove","mouseup","mouseenter","mouseleave","mouseover","mouseout","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointercancel","pointerenter","pointerleave","pointerover","pointerout","gotpointercapture","lostpointercapture","click","dblclick","contextmenu","wheel","focus","blur","focusin","focusout","keydown","keyup","keypress"]},Fs:{value:{mousedown:function(t){this.Bs(this.Qs[0],this.Ws(this.qs(t),""))},mousemove:function(t){this.Bs(this.Qs[1],this.Gs(this.qs(t),""))},mouseup:function(t){this.Bs(this.Qs[2],this.qs(t))},mouseenter:function(t){this.Bs(this.Qs[3],this.Ws(this.qs(t),""))},mouseleave:function(t){this.Bs(this.Qs[4],this.qs(t))},mouseover:function(t){this.Bs(this.Qs[5],this.qs(t))},mouseout:function(t){this.Bs(this.Qs[6],this.qs(t))},touchstart:function(t){for(var i,n=0,s=t.targetTouches,h=s.length;n<h;n++)i=s[n],this.Ws(this.Hs(i),i.identifier);this.Bs(this.Qs[7],t)},touchmove:function(t){for(var i,n=0,s=t.targetTouches,h=s.length;n<h;n++)i=s[n],this.Gs(this.Hs(i),i.identifier);this.Bs(this.Qs[8],t)},touchend:function(t){for(var i=0,n=t.targetTouches,s=n.length;i<s;i++)this.Hs(n[i]);this.Bs(this.Qs[9],t)},touchcancel:function(t){this.Bs(this.Qs[10],t)},pointerdown:function(t){this.setPointerCapture(t.pointerId),this.Bs(this.Qs[11],this.Ws(this.qs(t),t.pointerId))},pointermove:function(t){this.Bs(this.Qs[12],this.Gs(this.qs(t),t.pointerId))},pointerup:function(t){this.releasePointerCapture(t.pointerId),this.Bs(this.Qs[13],this.qs(t))},pointercancel:function(t){this.Bs(this.Qs[14],this.qs(t))},pointerenter:function(t){this.Bs(this.Qs[15],this.Ws(this.qs(t),t.pointerId))},pointerleave:function(t){this.Bs(this.Qs[16],this.qs(t))},pointerover:function(t){this.Bs(this.Qs[17],this.qs(t))},pointerout:function(t){this.Bs(this.Qs[18],this.qs(t))},gotpointercapture:function(t){this.Bs(this.Qs[19],this.qs(t))},lostpointercapture:function(t){this.Bs(this.Qs[20],this.qs(t))},click:function(t){this.Bs(this.Qs[21],this.qs(t))},dblclick:function(t){this.Bs(this.Qs[22],this.qs(t))},contextmenu:function(t){t.preventDefault(),this.Bs(this.Qs[23],this.qs(t))},wheel:function(t){this.Bs(this.Qs[24],this.qs(N(t,{zooming:{value:it(2,-(t.deltaY||t.deltaX)/100)}})))},focus:function(t){this.Bs(this.Qs[25],t)},blur:function(t){this.Bs(this.Qs[26],t)},focusin:function(t){this.Bs(this.Qs[27],t)},focusout:function(t){this.Bs(this.Qs[28],t)},keydown:function(t){t.isComposing||"Process"===t.key||this.Bs(this.Qs[29],t)},keyup:function(t){t.isComposing||"Process"===t.key||this.Bs(this.Qs[30],t)},keypress:function(t){this.Bs(this.Qs[31],t)}}},js:{value:{passive:!1}},zs:{value:function(t){return"touchmove"===t?"touchstart":"mousemove"===t?"mouseenter":"pointermove"===t?"pointerenter":"gotpointercapture"===t||"lostpointercapture"===t?"pointerdown":""}},qs:{value:function(t){return N(t,{x:{value:t.offsetX},y:{value:t.offsetY}})}},Hs:{value:function(t){return N(t,{x:{value:t.pageX-this.Rs},y:{value:t.pageY-this.Ts}})}},Ws:{value:function(t,i){return this["__x"+i]=this["_x"+i]=t.x,this["__y"+i]=this["_y"+i]=t.y,t}},Gs:{value:function(t,i){return N(t,{moveX:{value:t.x-this["__x"+i]},moveY:{value:t.y-this["__y"+i]},movementX:{value:t.x-this["_x"+i]},movementY:{value:t.y-this["_y"+i]}}),this["_x"+i]=t.x,this["_y"+i]=t.y,t}},onregister:{value:function(t){this.addEventListener(t,this.Fs[t],this.js)}},onunregister:{value:function(t){this.removeEventListener(t,this.Fs[t],this.js)}}},X),X=E(z({__proto__:vt,on:{value:function(t,i){return c(i)?this.Xs(t,i):this}},off:{value:function(t,i){return this.Ls(t)?this.As(t,i):this}},trigger:{value:function(t,i){return this.Ls(t)?this.Bs(t,f(i)?i:{}):this}},onregister:Dt,onunregister:Dt},X)),Vi=$t,$i=W;function tn(t,i,n,s,h,e){var u,r,o;f(t)&&(i=t.width,n=t.height,s=t.pixelRatio,h=t.duration,e=t.interval,t=t.container),Vi.call(this,h,e),t=this.Es=a(t)?G.querySelector(t):t,dt(t)||(_(this.Ns=t.children[0])&&t.appendChild(this.Ns=G.createElement("div")),u=this.Ns,_(u.Os)&&(u.Os=[],u.tabIndex=0,N(u,Zi),(r=u.style).position="relative",r.overflow="hidden",r.borderWidth=r.padding=r.margin="0px",r.webkitUserSelect=r.userSelect=r.touchAction=r.outline="none",u.Cs=!1,u.Js=function(){if(u.Cs)for(var t=u.Os,i=t.length,n="visible"===G.visibilityState,s=0;s<i;s++)t[s].onvisibilitychange(n)}),this.width=i,this.height=n,(r=(n=this.Ms=G.createElement("canvas")).style).position="absolute",r.pointerEvents="none",r.top=r.left="0px",(r=u.Os).length?u.insertBefore(n,r[r.length-1].Ms.nextSibling):u.appendChild(n),r.push(this),this.Ti=N(n.getContext("2d"),{V:Bt,Wi:{value:[]}}),this.V=s,o=this.Us(),$i(function(){o.oncreate(),o.onresize(),o.onrender()}),1===r.length?(Ui.observe(u),Ki.observe(u),G.addEventListener("visibilitychange",u.Js,!1)):u.Cs&&!G.hidden&&$i(function(){o.onvisibilitychange(!0)}))}_(W)&&(Vi=Vt,$i=L),t(tn,Vi,{container:{get:function(){return this.Es}},wrapper:{get:function(){return this.Ns}},canvas:{get:function(){return this.Ms}},context:{get:function(){return this.Ti}},width:{get:function(){return this.hn},set:function(t){this.Ns.style.width=dt(t)?"100%":t+"px"}},height:{get:function(){return this.en},set:function(t){this.Ns.style.height=dt(t)?"100%":t+"px"}},pixelRatio:{get:function(){return this.Ti.V},set:function(t){this.V=t,this.Us(this.hn,this.en).onrender()}},visible:{get:function(){return this.Ns.Cs}},cursor:{get:function(){return this.Ns.style.cursor},set:function(t){this.Ns.style.cursor=t}},resize:{value:function(t,i){return this.Us(t,i).onresize(),this.onrender(),this}},render:{value:function(t){return t?(this.isRunning()||this.onrender(),this):this.resume()}},clearRect:{value:function(t,i,n,s){return this.Ni(!0).Ti.clearRect(t,i,n,s),this}},destroy:{value:function(){var t,i=this.Ns,n=this.Ks,s=i.Os;for(t in n)i.As(t,n[t]);for(t in this.stop(),i.removeChild(this.Ms),s.splice(s.indexOf(this),1),0===s.length&&(Ui.unobserve(i),Ki.unobserve(i),i.Cs=!1,G.removeEventListener("visibilitychange",i.Js,!1)),this.ondestroy(),this)delete this[t];return this}},on:{value:function(t,s){var i,n,h=this.Ns,e=c(s);return-1!==h.Qs.indexOf(t)?(i=this.Ks,_(i)&&(i=this.Ks={}),o(i[t])?(h.As(t,i[t]),delete i[t]):!e||(n=h.zs(t))&&_(i[n])&&h.Xs(n,i[n]=r),e&&h.Xs(t,i[t]=s.bind(this))):this["on"+t]="update"===t?e?function(t,i,n){s.call(this,t,i,n),this.onrender()}:delete this.onupdate:e?s:r,this}},create:{value:function(t,i,n){if(a(t)&&(t=nn[t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()]),!c(t)||t===tn)return vt;var s=new t;return this.q(s),f(i)?dt(n)?z(s,i):((i=R.call(arguments,1)).unshift(s),z.apply(vt,i)):1<arguments.length&&t.apply(s,R.call(arguments,1)),s}},onupdate:z({value:function(t,i,n){this.onrender()}},Bt),oncreate:Dt,onresize:Dt,onrender:Dt,onvisibilitychange:Dt,ondestroy:Dt,q:{value:function(t){t.Ri?t.context=this.Ti:Vi.prototype.q.call(this,t)}},H:{value:function(t){t.context===this.Ti?t.context=S:Vi.prototype.H.call(this,t)}},Us:{value:function(t,i){var n,s=this.Ms,h=this.Ti,e=h.V=this.V||x.devicePixelRatio||1;return(dt(t)||dt(i))&&(n=this.Ns.getBoundingClientRect(),dt(t)&&(t=n.right-n.left),dt(i)&&(i=n.bottom-n.top)),s.style.width=(this.hn=(s.width=$(t*e))/e)+"px",s.style.height=(this.en=(s.height=$(i*e))/e)+"px",h.Wi.length=0,u(h),this.Ni(!1)}},Ni:{value:function(t){var i=this.Ti,n=i.V,s=1!==n;return t?s?i.setTransform(n,0,0,n,0,0):i.resetTransform():s&&i.transform(n,0,0,n,0,0),ni(i),this}}});var Dt=E({__proto__:vt,Roundrect:gi,Imagedata:bi,Polyshape:Wi,Superellipse:Ji,Smoothline:Mi}),nn=E({__proto__:Dt,util:Qt,ease:Rt,Rgb:Et,Hsl:Nt,Lab:Mt,Point:Ut,Animation:Vi,Animator:ii,Group:ei,Shape:oi,Rect:vi,Grid:di,RoundRect:gi,Image:pi,Wave:mi,ImageData:bi,Text:ki,Arc:yi,Sector:wi,Ring:Ii,Ellipse:Si,Isogon:xi,Star:Oi,Koch:Ci,Line:Xi,Link:Yi,Curve:Ai,Triangle:Bi,Droplet:Di,Heart:Li,Pin:Qi,Path:Fi,PolyShape:Wi,Polyline:Hi,Polygon:ji,Bezier:zi,Rectangle:Ei,Circle:Ni,SuperEllipse:Ji,SmoothLine:Mi,Canvas:tn,IEventful:X,IRenderable:ui,IAnimatable:ti});return nn});
